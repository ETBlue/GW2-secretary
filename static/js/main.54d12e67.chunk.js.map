{"version":3,"sources":["pages/items/styles/Items.module.css","contexts/TokenContext.tsx","helpers/api.ts","config.ts","contexts/ItemContext.tsx","contexts/AccountContext.tsx","contexts/CharacterContext.tsx","blocks/Header.tsx","layouts/BaseFrame.tsx","helpers/url.ts","hooks/url.ts","pages/characters/Overview.tsx","pages/characters/Characters.tsx","pages/characters/index.ts","components/Pagination.tsx","pages/items/helpers/count.ts","pages/items/SubMenuItem.tsx","pages/items/HeaderItem.tsx","pages/items/Item.tsx","pages/items/Items.tsx","pages/items/index.ts","pages/settings/Settings.tsx","pages/settings/index.ts","App.tsx","reportWebVitals.ts","serviceWorker.ts","index.tsx","pages/items/styles/Item.module.css","pages/characters/styles/Characters.module.css","pages/items/styles/HeaderItem.module.css"],"names":["module","exports","TokenContext","createContext","usedAccounts","addUsedAccount","account","removeUsedAccount","currentAccount","setCurrentAccount","TokenProvider","props","useState","getUsedAccounts","setUsedAccounts","updateUsedAccounts","newUsedAccounts","localStorage","setItem","JSON","stringify","Provider","value","newToken","find","item","token","abandonedToken","filter","length","children","storedTokens","readStoredTokens","v1StoredTokens","readV1StoredTokens","removeItem","storage","getItem","parse","err","console","log","v1Storage","v1Data","Object","keys","map","name","description","queryFunction","context","a","queryKey","endpoint","paramsString","searchParams","URLSearchParams","append","queryString","toString","fetchGW2","data","fetch","headers","res","ok","json","ItemContext","items","materials","materialCategories","characterItems","inventoryItems","bankItems","materialItems","setCharacterItems","val","setInventoryItems","setBankItems","setMaterialItems","isFetching","ItemProvider","useReducer","currentItems","newItems","id","addItems","isItemsFetching","setIsItemsFetching","fetchItems","newIds","existingIdSet","Set","key","parseInt","idsToFetch","has","chunks","chunk","join","useEffect","useQuery","staleTime","Infinity","materialsData","isMaterialFetching","sortBy","materialCategoryAliases","reduce","prev","curr","AccountContext","AccountProvider","useContext","enabled","inventory","isInventoryFetching","bank","isBankFetching","isMaterialsFetching","location","CharacterContext","characters","undefined","CharacterProvider","character","bagItems","bags","bag","currentBag","isEquipped","currentBagItems","currentItem","equippedItems","equipment","MENU_ITEMS","to","text","Header","templateColumns","gap","padding","alignContent","alignItems","borderBottom","fontFamily","as","Link","marginRight","height","marginBottom","alt","src","justifyContent","NavLink","variant","fontWeight","borderRadius","_hover","background","activeStyle","color","cursor","Button","paddin","rightIcon","position","top","icon","onClick","BaseFrame","templateRows","getQueryString","newKey","newValue","current","currentSearchParams","set","entries","delete","useSearchParams","useLocation","search","sort","get","order","profession","keyword","type","Overview","activeSort","activeOrder","className","css","table","COLUMNS","title","active","column","formatDistanceStrict","age","unit","Gender","gender","format","Date","created","component","Characters","history","useHistory","activeProfession","visibleCharacters","match","RegExp","b","display","gridTemplateRows","width","opacity","onChange","e","currentTarget","push","margin","columns","PROFESSIONS","isActive","size","Component","path","Pagination","pageIndex","setPageIndex","pages","lastPageIndex","ButtonGroup","isAttached","marginTop","borderBottomWidth","aria-label","index","isOutofScope","isOnEdge","fontSize","minWidth","transition","getTypedItemLength","params","userItems","getTypedItems","_params","userItem","isItemInTypes","types","pathname","itemRaw","includes","category","SubMenuItem","activeType","showOnly","HeaderItem","TABLE_HEADERS","Item","materialCategory","iconCell","rarity","toLowerCase","border","nameCell","secondary","details","infix_upgrade","attributes","attr","attribute","modifier","stats","maxWidth","level","restrictions","bound_to","count","chat_link","Items","isCharactersFetching","isAccountFetching","useParams","allItems","visibleItems","menuItem","isItemInCategory","_a","_b","number","compareRarity","compare","findIndex","exact","isMaterial","RARITY_MAP","Junk","Basic","Fine","Masterwork","Rare","Exotic","Ascended","Legendary","Settings","setToken","refetch","handleSubmit","textAlign","handleDelete","autoFocus","placeholder","isLoading","queryClient","QueryClient","Content","App","QueryClientProvider","client","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Boolean","window","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.54d12e67.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"Items_table__W9AWp\"};","import React, { useState, createContext } from \"react\"\n\ninterface Values {\n  usedAccounts: UsedAccount[]\n  addUsedAccount(account: UsedAccount): void\n  removeUsedAccount(account: UsedAccount): void\n  currentAccount: UsedAccount | null\n  setCurrentAccount(account: UsedAccount | null): void\n}\n\nconst TokenContext = createContext<Values>({\n  usedAccounts: [],\n  addUsedAccount: (account: UsedAccount) => {},\n  removeUsedAccount: (account: UsedAccount) => {},\n  currentAccount: null,\n  setCurrentAccount: (account: UsedAccount | null) => {},\n})\n\nfunction TokenProvider(props: { children: React.ReactNode }) {\n  const [usedAccounts, setUsedAccounts] = useState<UsedAccount[]>(\n    getUsedAccounts(),\n  )\n  const [currentAccount, setCurrentAccount] = useState<UsedAccount | null>(null)\n\n  const updateUsedAccounts = (newUsedAccounts: UsedAccount[]) => {\n    localStorage.setItem(\"gw2iTokens\", JSON.stringify(newUsedAccounts))\n    setUsedAccounts(newUsedAccounts)\n  }\n\n  const addUsedAccount = (newToken: UsedAccount) => {\n    if (usedAccounts.find((item) => item.token === newToken.token)) {\n      return\n    }\n    if (!newToken.token) {\n      return\n    }\n    const newUsedAccounts = [newToken, ...usedAccounts]\n    updateUsedAccounts(newUsedAccounts)\n  }\n\n  const removeUsedAccount = (abandonedToken: UsedAccount) => {\n    const newUsedAccounts = usedAccounts.filter(\n      (item) => item.token !== abandonedToken.token,\n    )\n    if (newUsedAccounts.length === usedAccounts.length) {\n      return\n    }\n    updateUsedAccounts(newUsedAccounts)\n  }\n\n  return (\n    <TokenContext.Provider\n      value={{\n        usedAccounts,\n        addUsedAccount,\n        removeUsedAccount,\n        currentAccount,\n        setCurrentAccount,\n      }}\n    >\n      {props.children}\n    </TokenContext.Provider>\n  )\n}\n\nexport default TokenContext\nexport { TokenProvider }\n\nconst getUsedAccounts = () => {\n  const storedTokens: UsedAccount[] = readStoredTokens()\n  const v1StoredTokens: UsedAccount[] = readV1StoredTokens()\n  const usedAccounts: UsedAccount[] = [\n    ...storedTokens,\n    ...v1StoredTokens,\n  ].filter((item) => item.token)\n  if (v1StoredTokens.length > 0) {\n    localStorage.setItem(\"gw2iTokens\", JSON.stringify(usedAccounts))\n    localStorage.removeItem(\"gw2i\")\n  }\n  return usedAccounts\n}\n\nconst readStoredTokens = () => {\n  const storage = localStorage.getItem(\"gw2iTokens\")\n  if (storage) {\n    try {\n      const data = JSON.parse(storage)\n      return data\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  return []\n}\n\nconst readV1StoredTokens = () => {\n  const v1Storage = localStorage.getItem(\"gw2i\")\n  if (v1Storage) {\n    try {\n      const v1Data: { [key: string]: string } = JSON.parse(v1Storage)\n      const v1UsedAccounts = Object.keys(v1Data).map((name: string) => {\n        return {\n          name,\n          token: v1Data[name],\n          description: \"\",\n        }\n      })\n      return v1UsedAccounts\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  return []\n}\n\nexport interface UsedAccount {\n  name: string\n  token: string\n  description?: string\n}\n","import { QueryFunctionContext } from \"react-query\"\n\nimport { API_URL, API_LANG } from \"config\"\n\nexport const queryFunction = async (context: QueryFunctionContext) => {\n  const { queryKey } = context\n  const [endpoint, token = \"\", paramsString = \"\"] = queryKey\n  if (!endpoint) return\n\n  const searchParams = new URLSearchParams(paramsString)\n  searchParams.append(\"access_token\", token)\n  const queryString = searchParams.toString()\n\n  const data = await fetchGW2(endpoint, queryString)\n  return data\n}\n\nexport const fetchGW2 = async (endpoint: string, queryString?: string) => {\n  const res = await fetch(`${API_URL}/${endpoint}?${queryString}`, {\n    headers: {\n      \"Accept-Language\": API_LANG,\n    },\n  })\n  if (res.ok) {\n    const data = await res.json()\n    return data\n  }\n}\n","export const APP_NAME = \"Guild Wars 2 Inventory\"\n\nexport const API_URL = \"https://api.guildwars2.com/v2\"\n\nexport const API_LANG = \"en\"\n\nexport const BASE_URL = \"/gw2inventory\"\n\nexport const LOCAL_STORAGE_KEYS = {\n  legacy: \"gw2i\",\n  tokens: \"gw2iTokens\",\n}\n\nexport const ITEM_COUNT_PER_PAGE = 100\n\nexport const DATE_FORMAT = \"YYYY-MM-DD HH:mm:ss\"\n","import React, { useState, useEffect, useReducer, createContext } from \"react\"\nimport { useQuery } from \"react-query\"\nimport { chunk, sortBy } from \"lodash\"\n\nimport { fetchGW2, queryFunction } from \"helpers/api\"\nimport { Item, Material } from \"pages/items/types\"\nimport { CharacterItemInList } from \"pages/characters/types\"\nimport {\n  BankItemInList,\n  InventoryItemInList,\n  MaterialItemInList,\n} from \"pages/account/types\"\n\ninterface Values {\n  items: Items\n  materials: Materials\n  materialCategories: string[]\n  characterItems: CharacterItemInList[]\n  inventoryItems: InventoryItemInList[]\n  bankItems: BankItemInList[]\n  materialItems: MaterialItemInList[]\n  setCharacterItems(val: CharacterItemInList[]): void\n  setInventoryItems(val: InventoryItemInList[]): void\n  setBankItems(val: BankItemInList[]): void\n  setMaterialItems(val: MaterialItemInList[]): void\n  isFetching: boolean\n}\n\nconst ItemContext = createContext<Values>({\n  items: {},\n  materials: {},\n  materialCategories: [],\n  characterItems: [],\n  inventoryItems: [],\n  bankItems: [],\n  materialItems: [],\n  setCharacterItems: (val: CharacterItemInList[]) => {},\n  setInventoryItems: (val: InventoryItemInList[]) => {},\n  setBankItems: (val: BankItemInList[]) => {},\n  setMaterialItems: (val: MaterialItemInList[]) => {},\n  isFetching: false,\n})\n\nfunction ItemProvider(props: { children: React.ReactNode }) {\n  // handle items\n\n  const [items, addItems] = useReducer(\n    (currentItems: Items, newItems: Item[]) => {\n      for (const item of newItems) {\n        currentItems[item.id] = item\n      }\n      return { ...currentItems }\n    },\n    {},\n  )\n\n  const [isItemsFetching, setIsItemsFetching] = useState<boolean>(false)\n\n  const fetchItems = async (newIds: number[]) => {\n    setIsItemsFetching(true)\n    const existingIdSet = new Set(\n      Object.keys(items).map((key) => parseInt(key)),\n    )\n    const idsToFetch = newIds.filter((id) => !existingIdSet.has(id))\n    const chunks = chunk(idsToFetch, 200)\n\n    let newItems: Item[] = []\n    for (const chunk of chunks) {\n      const data = await fetchGW2(\"items\", `ids=${chunk.join(\",\")}`)\n      if (data) {\n        newItems = [...newItems, ...data]\n      }\n    }\n    setIsItemsFetching(false)\n    addItems(newItems)\n  }\n\n  const [characterItems, setCharacterItems] = useState<CharacterItemInList[]>(\n    [],\n  )\n  const [inventoryItems, setInventoryItems] = useState<InventoryItemInList[]>(\n    [],\n  )\n  const [bankItems, setBankItems] = useState<BankItemInList[]>([])\n  const [materialItems, setMaterialItems] = useState<MaterialItemInList[]>([])\n\n  useEffect(() => {\n    fetchItems(characterItems.map((item) => item.id))\n  }, [characterItems.length])\n  useEffect(() => {\n    fetchItems(inventoryItems.map((item) => item.id))\n  }, [inventoryItems.length])\n  useEffect(() => {\n    fetchItems(bankItems.map((item) => item.id))\n  }, [bankItems.length])\n  useEffect(() => {\n    fetchItems(materialItems.map((item) => item.id))\n  }, [materialItems.length])\n\n  // handle materials (category)\n\n  const { data: materialsData, isFetching: isMaterialFetching } = useQuery(\n    [\"materials\", , \"ids=all\"],\n    queryFunction,\n    {\n      staleTime: Infinity,\n    },\n  )\n  const materialCategories = sortBy(materialsData, [\"order\"]).map(\n    (item) => materialCategoryAliases[item.name],\n  )\n  const materials = materialsData?.reduce((prev: Materials, curr: Material) => {\n    prev[curr.id] = materialCategoryAliases[curr.name]\n    return prev\n  }, {})\n\n  return (\n    <ItemContext.Provider\n      value={{\n        items,\n        materials,\n        materialCategories,\n        characterItems,\n        inventoryItems,\n        bankItems,\n        materialItems,\n        setCharacterItems,\n        setInventoryItems,\n        setBankItems,\n        setMaterialItems,\n        isFetching: isItemsFetching || isMaterialFetching,\n      }}\n    >\n      {props.children}\n    </ItemContext.Provider>\n  )\n}\n\nexport default ItemContext\nexport { ItemProvider }\n\nexport interface Items {\n  [key: number]: Item\n}\nexport interface Materials {\n  [key: number]: string\n}\n\ninterface MaterialCategoryAliases {\n  [key: string]: string\n}\n\nconst materialCategoryAliases: MaterialCategoryAliases = {\n  \"Cooking Materials\": \"Cooking\",\n  \"Basic Crafting Materials\": \"Basic\",\n  \"Intermediate Crafting Materials\": \"Intermediate\",\n  \"Gemstones and Jewels\": \"Gemstones\",\n  \"Advanced Crafting Materials\": \"Advanced\",\n  \"Festive Materials\": \"Festive\",\n  \"Ascended Materials\": \"Ascended\",\n  \"Cooking Ingredients\": \"Ingredients\",\n  \"Scribing Materials\": \"Scribing\",\n}\n","import React, { useEffect, useContext, createContext } from \"react\"\nimport { useQuery } from \"react-query\"\n\nimport TokenContext from \"contexts/TokenContext\"\nimport ItemContext from \"contexts/ItemContext\"\nimport { queryFunction } from \"helpers/api\"\nimport {\n  InventoryItemInList,\n  BankItemInList,\n  MaterialItemInList,\n  InventoryItem,\n  BankItem,\n  MaterialItem,\n} from \"pages/account/types\"\n\ninterface Values {\n  isFetching: boolean\n}\n\nconst AccountContext = createContext<Values>({\n  isFetching: false,\n})\n\nfunction AccountProvider(props: { children: React.ReactNode }) {\n  const { currentAccount } = useContext(TokenContext)\n  const { setInventoryItems, setBankItems, setMaterialItems } =\n    useContext(ItemContext)\n\n  const { data: inventory, isFetching: isInventoryFetching } = useQuery(\n    [\"account/inventory\", currentAccount?.token],\n    queryFunction,\n    {\n      staleTime: Infinity,\n      enabled: !!currentAccount?.token,\n    },\n  )\n  const { data: bank, isFetching: isBankFetching } = useQuery(\n    [\"account/bank\", currentAccount?.token],\n    queryFunction,\n    {\n      staleTime: Infinity,\n      enabled: !!currentAccount?.token,\n    },\n  )\n  const { data: materials, isFetching: isMaterialsFetching } = useQuery(\n    [\"account/materials\", currentAccount?.token],\n    queryFunction,\n    {\n      staleTime: Infinity,\n      enabled: !!currentAccount?.token,\n    },\n  )\n\n  useEffect(() => {\n    if (!inventory) return\n    const inventoryItems: InventoryItemInList[] = inventory.reduce(\n      (prev: InventoryItemInList[], item: InventoryItem) => {\n        if (!item) return prev\n        return [...prev, { ...item, location: \"Shared inventory\" }]\n      },\n      [],\n    )\n    setInventoryItems(inventoryItems)\n  }, [inventory?.length])\n\n  useEffect(() => {\n    if (!bank) return\n    const bankItems: BankItemInList[] = bank.reduce(\n      (prev: BankItemInList[], item: BankItem) => {\n        if (!item) return prev\n        return [...prev, { ...item, location: \"Bank\" }]\n      },\n      [],\n    )\n    setBankItems(bankItems)\n  }, [bank?.length])\n\n  useEffect(() => {\n    if (!materials) return\n    const materialItems: MaterialItemInList[] = materials.reduce(\n      (prev: MaterialItemInList[], item: MaterialItem) => {\n        if (!item) return prev\n        return [...prev, { ...item, location: \"Vault\" }]\n      },\n      [],\n    )\n    setMaterialItems(materialItems)\n  }, [materials?.length])\n\n  return (\n    <AccountContext.Provider\n      value={{\n        isFetching:\n          isInventoryFetching || isBankFetching || isMaterialsFetching,\n      }}\n    >\n      {props.children}\n    </AccountContext.Provider>\n  )\n}\n\nexport default AccountContext\nexport { AccountProvider }\n","import React, { useEffect, useContext, createContext } from \"react\"\nimport { useQuery } from \"react-query\"\n\nimport TokenContext from \"contexts/TokenContext\"\nimport ItemContext from \"contexts/ItemContext\"\nimport { queryFunction } from \"helpers/api\"\nimport {\n  CharacterBag,\n  CharacterBagItem,\n  CharacterItemInList,\n} from \"pages/characters/types\"\n\nconst CharacterContext = createContext({\n  characters: undefined,\n  isFetching: false,\n})\n\nfunction CharacterProvider(props: { children: React.ReactNode }) {\n  const { currentAccount } = useContext(TokenContext)\n  const { setCharacterItems } = useContext(ItemContext)\n\n  const { data: characters, isFetching } = useQuery(\n    [\"characters\", currentAccount?.token, \"ids=all\"],\n    queryFunction,\n    {\n      staleTime: Infinity,\n      enabled: !!currentAccount?.token,\n    },\n  )\n\n  useEffect(() => {\n    if (!characters) return\n    let characterItems: CharacterItemInList[] = []\n\n    for (const character of characters) {\n      const bagItems = character.bags.reduce(\n        (prev: CharacterItemInList[], bag: CharacterBag | null) => {\n          if (!bag) return prev\n          const currentBag = {\n            ...bag,\n            location: character.name,\n            isEquipped: true,\n          }\n          const currentBagItems = bag.inventory.reduce(\n            (prev: CharacterItemInList[], item: CharacterBagItem) => {\n              if (!item) return prev\n              const currentItem = { ...item, location: character.name }\n              return [...prev, currentItem]\n            },\n            [],\n          )\n          return [...prev, currentBag, ...currentBagItems]\n        },\n        [],\n      )\n      const equippedItems = character.equipment.map((item) => {\n        return {\n          ...item,\n          location: character.name,\n          isEquipped: true,\n        }\n      })\n      characterItems = [...characterItems, ...bagItems, ...equippedItems]\n    }\n    setCharacterItems(characterItems)\n  }, [characters?.length])\n\n  return (\n    <CharacterContext.Provider value={{ characters, isFetching }}>\n      {props.children}\n    </CharacterContext.Provider>\n  )\n}\n\nexport default CharacterContext\nexport { CharacterProvider }\n","import React, { useContext } from \"react\"\nimport { Link, NavLink } from \"react-router-dom\"\nimport {\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuItem,\n  Button,\n  SimpleGrid,\n  Flex,\n  Image,\n} from \"@chakra-ui/react\"\nimport { FaCog, FaUser } from \"react-icons/fa\"\nimport { MdExpandMore } from \"react-icons/md\"\n\nimport { APP_NAME, BASE_URL } from \"config\"\nimport TokenContext, { UsedAccount } from \"contexts/TokenContext\"\n\nconst MENU_ITEMS = [\n  // { to: \"/account\", text: \"Account\" },\n  { to: \"/characters\", text: \"Characters\" },\n  { to: \"/items\", text: \"Items\" },\n  // { to: \"/unlocks\", text: \"Unlocks\" },\n  // { to: \"/trades\", text: \"Trades\" },\n  // { to: \"/wallet\", text: \"Wallet\" },\n]\n\nfunction Header() {\n  const { usedAccounts, currentAccount, setCurrentAccount } =\n    useContext(TokenContext)\n\n  return (\n    <SimpleGrid\n      templateColumns=\"auto 1fr auto\"\n      gap=\"1rem\"\n      padding=\"0 1rem\"\n      alignContent=\"stretch\"\n      alignItems=\"stretch\"\n      borderBottom=\"2px hsla(326, 73%, 55%, 1) solid\"\n      fontFamily=\"Rosario\"\n    >\n      <Flex\n        as={Link}\n        alignItems=\"center\"\n        borderBottom=\"2px hsla(326, 73%, 55%, 1) solid\"\n        to=\"/\"\n      >\n        <Image\n          marginRight=\"1rem\"\n          height=\"3.5rem\"\n          marginBottom=\"-2px\"\n          alt=\"logo\"\n          src={`${BASE_URL}/favicon.png`}\n        />\n        {APP_NAME}\n      </Flex>\n      <Flex as=\"nav\" justifyContent=\"center\">\n        {MENU_ITEMS.map((item) => (\n          <Button\n            key={item.to}\n            as={NavLink}\n            to={item.to}\n            variant=\"ghost\"\n            fontWeight=\"normal\"\n            borderRadius=\"0\"\n            height=\"3.5rem\"\n            borderBottom=\"2px hsla(326, 73%, 55%, 1) solid\"\n            _hover={{ background: \"hsla(326, 15%, 55%, 0.1)\" }}\n            activeStyle={{\n              background: \"hsla(326, 73%, 55%, 1)\",\n              color: \"#f9f9f9\",\n              cursor: \"initial\",\n            }}\n          >\n            {item.text}\n          </Button>\n        ))}\n      </Flex>\n      <Menu>\n        <MenuButton\n          as={Button}\n          variant=\"ghost\"\n          fontWeight=\"normal\"\n          borderRadius=\"0\"\n          height=\"100%\"\n          paddin=\"1rem\"\n          marginRight=\"-0.5rem\"\n          borderBottom=\"2px hsla(326, 73%, 55%, 1) solid\"\n          rightIcon={<MdExpandMore />}\n        >\n          {currentAccount?.name || \"Select a token\"}\n        </MenuButton>\n        <MenuList borderRadius=\"0\" position=\"relative\" top=\"-0.75rem\">\n          {usedAccounts.map((item: UsedAccount) => (\n            <MenuItem\n              key={item.token}\n              icon={<FaUser />}\n              onClick={() => {\n                setCurrentAccount(item)\n              }}\n            >\n              {item.name}\n            </MenuItem>\n          ))}\n          <MenuItem as={Link} to=\"/settings\" icon={<FaCog />}>\n            Manage tokens...\n          </MenuItem>\n        </MenuList>\n      </Menu>\n    </SimpleGrid>\n  )\n}\n\nexport default Header\n","import React from \"react\"\n\nimport Header from \"blocks/Header\"\n\nimport { Box, Grid } from \"@chakra-ui/react\"\n\ninterface Props {\n  children?: React.ReactNode\n}\n\nfunction BaseFrame(props: Props) {\n  const { children } = props\n\n  return (\n    <Grid templateRows=\"auto 3.5rem 1fr\" height=\"100vh\">\n      <div />\n      <Header />\n      <Box background=\"hsla(50, 30%, 98%, 1)\" padding=\"1rem\">\n        {children}\n      </Box>\n    </Grid>\n  )\n}\n\nexport default BaseFrame\n","export const getQueryString = (\n  newKey: string,\n  newValue: string,\n  current: string,\n) => {\n  const currentSearchParams = new URLSearchParams(current)\n  currentSearchParams.set(newKey, newValue)\n  for (const [key, value] of currentSearchParams.entries()) {\n    if (!value || value === \"All\") {\n      currentSearchParams.delete(key)\n    }\n  }\n  return currentSearchParams.toString()\n}\n","import { useLocation } from \"react-router-dom\"\n\nexport const useSearchParams = () => {\n  const { search: queryString } = useLocation()\n  const searchParams = new URLSearchParams(queryString)\n  const sort = searchParams.get(\"sort\")\n  const order = searchParams.get(\"order\")\n  const profession = searchParams.get(\"profession\")\n  const keyword = searchParams.get(\"keyword\")\n  const type = searchParams.get(\"type\")\n\n  return { queryString, sort, order, profession, keyword, type }\n}\n","import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { format, formatDistanceStrict } from \"date-fns\"\nimport { GiFemale, GiMale } from \"react-icons/gi\"\nimport { CgArrowDown, CgArrowUp } from \"react-icons/cg\"\nimport { Table, Thead, Tbody, Tr, Th, Td } from \"@chakra-ui/react\"\n\nimport { getQueryString } from \"helpers/url\"\n\nimport { Character } from \"./types\"\nimport css from \"./styles/Characters.module.css\"\n\ninterface Props {\n  characters: Character[]\n  token: string\n  activeSort: string\n  activeOrder: string\n  queryString: string\n}\n\nfunction Overview(props: Props) {\n  const { characters, activeSort, activeOrder, queryString } = props\n  return (\n    <Table className={css.table}>\n      <Thead>\n        <Tr>\n          {COLUMNS.map((title) => (\n            <Th\n              key={title}\n              as={Link}\n              to={`/characters?${\n                activeSort === title\n                  ? getQueryString(\n                      \"order\",\n                      activeOrder === \"asc\" ? \"dsc\" : \"\",\n                      queryString,\n                    )\n                  : getQueryString(\"sort\", title, queryString)\n              }`}\n              className={`${css.title} ${\n                activeSort === title ? css.active : \"\"\n              }`}\n            >\n              {title}{\" \"}\n              {activeSort === title ? (\n                activeOrder === \"asc\" ? (\n                  <CgArrowDown />\n                ) : (\n                  <CgArrowUp />\n                )\n              ) : null}\n            </Th>\n          ))}\n        </Tr>\n      </Thead>\n      <Tbody>\n        {characters.map((character) => (\n          <Tr key={character.name}>\n            {COLUMNS.map((column) => (\n              <Td key={column}>\n                {column === \"age\" ? (\n                  formatDistanceStrict(0, character.age * 1000, {\n                    unit: \"hour\",\n                  })\n                ) : column === \"gender\" ? (\n                  <Gender gender={character.gender} />\n                ) : column === \"created\" ? (\n                  format(new Date(character.created), \"yyyy-MM-dd\")\n                ) : (\n                  character[column]\n                )}\n              </Td>\n            ))}\n          </Tr>\n        ))}\n      </Tbody>\n    </Table>\n  )\n}\n\nexport default Overview\n\nconst COLUMNS = [\n  \"name\",\n  \"gender\",\n  \"race\",\n  \"profession\",\n  \"level\",\n  \"age\",\n  \"created\",\n  \"deaths\",\n]\n\nfunction Gender(props: { gender: string }) {\n  const { gender } = props\n  if (gender === \"Female\") {\n    return <GiFemale />\n  } else {\n    return <GiMale />\n  }\n}\n\n//\"crafting\",\n//backstory: string[] // An array of strings representing backstory answer IDs pertaining to the questions answered during character creation. References /v2/backstory/answers.\n//skills: {\n//  pve: Skills // contains the information on each slotted utility for PvE\n//  pvp: Skills // contains the information on each slotted utility for PvP\n//  wvw: Skills // contains the information on each slotted utility for WvW\n//} // contains the pve, pvp, and wvw objects for the current utilities equipped.\n//specializations: {\n//  pve: Spec[] // contains the information on each slotted specialization and trait for PvE\n//  pvp: Spec[] // contains the information on each slotted specialization and trait for PvP\n//  wvw: Spec[] // contains the information on each slotted specialization and trait for WvW\n//} // contains the pve, pvp, and wvw objects for the current specializations and traits equipped.\n//training: Training[] // contains objects for each skill tree trained\n//wvw_abilities: WvW[] // contains information on each trained wvw ability\n//equipment_pvp: PvP // Contains information on character's pvp equipment setup.\n//flags: \"Beta\"[] // Returns character flags. Possible values: Beta - Beta character for testing period of add-ons\n//recipes: number[] // The endpoi\n","import React, { useContext } from \"react\"\nimport { Link, NavLink, Route, Switch, useHistory } from \"react-router-dom\"\nimport { MdSearch } from \"react-icons/md\"\nimport {\n  Tabs,\n  TabList,\n  Tab,\n  Center,\n  Spinner,\n  Button,\n  Tag,\n  Flex,\n  Input,\n  InputGroup,\n  InputLeftElement,\n  Spacer,\n} from \"@chakra-ui/react\"\n\nimport TokenContext from \"contexts/TokenContext\"\nimport CharacterContext from \"contexts/CharacterContext\"\n\nimport { getQueryString } from \"helpers/url\"\nimport { useSearchParams } from \"hooks/url\"\nimport { Character } from \"pages/characters/types\"\n\nimport Overview from \"./Overview\"\n\nconst MENU_ITEMS = [\n  { to: \"/characters\", text: \"Overview\", component: Overview },\n]\n\nfunction Characters() {\n  const { currentAccount } = useContext(TokenContext)\n  const { characters, isFetching } = useContext(CharacterContext)\n  const history = useHistory()\n\n  const {\n    queryString,\n    profession: activeProfession,\n    keyword,\n    sort,\n    order,\n  } = useSearchParams()\n  const activeSort = sort || \"name\"\n  const activeOrder = order || \"asc\"\n\n  const visibleCharacters = characters\n    ?.filter(\n      (character: Character) =>\n        character.profession === activeProfession || !activeProfession,\n    )\n    .filter((character: Character) =>\n      !!keyword\n        ? JSON.stringify(character).match(new RegExp(keyword, \"i\"))\n        : true,\n    )\n    .sort((a, b) => {\n      if (a[activeSort] > b[activeSort] && activeOrder === \"asc\") return 1\n      if (a[activeSort] < b[activeSort] && activeOrder === \"dsc\") return 1\n      if (a[activeSort] > b[activeSort] && activeOrder === \"dsc\") return -1\n      if (a[activeSort] < b[activeSort] && activeOrder === \"asc\") return -1\n      return 0\n    })\n\n  return (\n    <Tabs display=\"grid\" gridTemplateRows=\"auto 1fr\" height=\"100%\">\n      <TabList>\n        {MENU_ITEMS.map((item) => (\n          <Tab key={item.to} as={NavLink} to={item.to}>\n            {item.text}\n          </Tab>\n        ))}\n        <Spacer />\n        <InputGroup width=\"20ch\">\n          <InputLeftElement>\n            <MdSearch opacity=\"0.5\" />\n          </InputLeftElement>\n          <Input\n            variant=\"unstyled\"\n            value={keyword || \"\"}\n            onChange={(e) => {\n              const to = `/characters?${getQueryString(\n                \"keyword\",\n                e.currentTarget.value,\n                queryString,\n              )}`\n              history.push(to)\n            }}\n          />\n        </InputGroup>\n      </TabList>\n      {isFetching ? (\n        <Center>\n          <Spinner />\n        </Center>\n      ) : (\n        <div>\n          <Flex\n            justifyContent=\"center\"\n            margin=\"1rem auto\"\n            columns={PROFESSIONS.length}\n          >\n            <Button\n              as={Link}\n              variant=\"ghost\"\n              fontWeight=\"normal\"\n              isActive={!activeProfession}\n              to={`/characters?${getQueryString(\n                \"profession\",\n                \"\",\n                queryString,\n              )}`}\n            >\n              All\n              <Tag size=\"sm\" margin=\"0 0 -0.1em 0.5em\">\n                {characters?.length || \"0\"}\n              </Tag>\n            </Button>{\" \"}\n            {PROFESSIONS.map((profession) => (\n              <Button\n                key={profession}\n                as={Link}\n                variant=\"ghost\"\n                fontWeight=\"normal\"\n                isActive={activeProfession === profession}\n                to={`/characters?${getQueryString(\n                  \"profession\",\n                  profession,\n                  queryString,\n                )}`}\n              >\n                {profession}{\" \"}\n                <Tag size=\"sm\" margin=\"0 0 -0.1em 0.5em\">\n                  {characters?.filter(\n                    (character: Character) =>\n                      character.profession === profession ||\n                      profession === \"All\",\n                  ).length || \"0\"}\n                </Tag>\n              </Button>\n            ))}\n          </Flex>\n          <Switch>\n            {currentAccount &&\n              characters &&\n              MENU_ITEMS.map((item) => {\n                const Component = item.component\n                return (\n                  <Route key={item.to} path={item.to}>\n                    <Component\n                      characters={visibleCharacters}\n                      token={currentAccount.token}\n                      activeSort={activeSort}\n                      activeOrder={activeOrder}\n                      queryString={queryString}\n                    />\n                  </Route>\n                )\n              })}\n          </Switch>\n        </div>\n      )}\n    </Tabs>\n  )\n}\n\nexport default Characters\n\nconst PROFESSIONS = [\n  \"Elementalist\",\n  \"Necromancer\",\n  \"Mesmer\",\n  \"Ranger\",\n  \"Thief\",\n  \"Engineer\",\n  \"Warrior\",\n  \"Guardian\",\n  \"Revenant\",\n]\n","import Characters from \"./Characters\"\n\nexport default Characters\n","import React, { useEffect } from \"react\"\nimport {\n  CgChevronDoubleLeft,\n  CgChevronDoubleRight,\n  CgChevronLeft,\n  CgChevronRight,\n} from \"react-icons/cg\"\nimport { Flex, Button, ButtonGroup, IconButton } from \"@chakra-ui/react\"\n\nimport { UserItemInList } from \"pages/items/types\"\n\ninterface Props {\n  pageIndex: number\n  setPageIndex(index: number): void\n  pages: UserItemInList[][]\n}\n\nfunction Pagination(props: Props) {\n  const { pageIndex, setPageIndex, pages } = props\n  const lastPageIndex = pages.length > 0 ? pages.length - 1 : 0\n  const goFirst = () => {\n    if (pageIndex === 0) return\n    setPageIndex(0)\n  }\n  const goPrev = () => {\n    if (pageIndex === 0) return\n    setPageIndex(pageIndex - 1)\n  }\n  const goNext = () => {\n    if (!pages.length) return\n    if (pageIndex === lastPageIndex) return\n    setPageIndex(pageIndex + 1)\n  }\n  const goLast = () => {\n    if (!pages.length) return\n    setPageIndex(lastPageIndex)\n  }\n  useEffect(() => {\n    if (pageIndex > lastPageIndex) {\n      setPageIndex(lastPageIndex)\n    }\n    if (pageIndex < 0) {\n      console.log(pageIndex)\n    }\n  }, [pageIndex, setPageIndex, pages.length])\n\n  return (\n    <Flex\n      as={ButtonGroup}\n      isAttached\n      variant=\"ghost\"\n      marginTop=\"1rem\"\n      borderBottomWidth=\"1px\"\n      justifyContent=\"center\"\n    >\n      <IconButton aria-label=\"first page\" onClick={goFirst}>\n        <CgChevronDoubleLeft />\n      </IconButton>\n      <IconButton aria-label=\"previous page\" onClick={goPrev}>\n        <CgChevronLeft />\n      </IconButton>\n      {pages.map((chunk, index: number) => {\n        const isOutofScope = index > pageIndex + 10 || index < pageIndex - 10\n        const isOnEdge = index === pageIndex + 10 || index === pageIndex - 10\n        return (\n          <Button\n            key={index}\n            fontWeight=\"normal\"\n            isActive={index === pageIndex}\n            padding={isOutofScope ? 0 : \"\"}\n            fontSize={isOutofScope ? 0 : \"\"}\n            minWidth={isOutofScope ? 0 : \"\"}\n            transition=\"padding 0.25s ease-out, min-width 0.25s ease-out\"\n            onClick={() => {\n              setPageIndex(index)\n            }}\n          >\n            {isOnEdge ? \"...\" : index + 1}\n          </Button>\n        )\n      })}\n      <IconButton aria-label=\"next page\" onClick={goNext}>\n        <CgChevronRight />\n      </IconButton>\n      <IconButton aria-label=\"last page\" onClick={goLast}>\n        <CgChevronDoubleRight />\n      </IconButton>\n    </Flex>\n  )\n}\n\nexport default Pagination\n","import { Items, Materials } from \"contexts/ItemContext\"\nimport { Item, UserItemInList } from \"pages/items/types\"\nimport { MENU_ITEMS } from \"pages/items/Items\"\n\ninterface LengthParams {\n  types: string[]\n  userItems: UserItemInList[]\n  items: Items\n  materials: Materials\n  pathname: string\n}\nexport const getTypedItemLength = (params: LengthParams): number => {\n  const { userItems, items } = params\n  if (!userItems || !items) return 0\n\n  const typedItems = getTypedItems(params)\n  return typedItems.length\n}\nexport const getTypedItems = (params: LengthParams): UserItemInList[] => {\n  const { userItems, ..._params } = params\n\n  const typedItems = userItems.filter((userItem: UserItemInList) => {\n    return isItemInTypes({ ..._params, userItem })\n  })\n  return typedItems\n}\n\ninterface TypeParams {\n  types: string[]\n  userItem: UserItemInList\n  items: Items\n  materials: Materials\n  pathname: string\n}\nexport const isItemInTypes = (params: TypeParams) => {\n  const { types, userItem, items, materials, pathname } = params\n  const itemRaw: Item = items[userItem.id]\n  if (!itemRaw) return false\n\n  if (pathname === \"/items/material\") {\n    return types.includes(materials[userItem.category])\n  } else {\n    return types.includes(itemRaw?.type)\n  }\n}\n\ninterface CategoryParams {\n  pathname: string\n  category: string | null\n  userItem: UserItemInList\n  items: Items\n}\nexport const isItemInCategory = (params: CategoryParams) => {\n  const { userItem, category, items, pathname } = params\n  if (!category) return true\n\n  const itemRaw: Item = items[userItem.id]\n  if (!itemRaw) return false\n\n  const activeTypes =\n    MENU_ITEMS.find((menuItem) => menuItem.to === pathname)?.showOnly || []\n  return activeTypes.includes(itemRaw.type)\n}\n","import React from \"react\"\nimport { Link, useLocation } from \"react-router-dom\"\nimport { Tag, Flex, Button } from \"@chakra-ui/react\"\n\nimport { useSearchParams } from \"hooks/url\"\nimport { getQueryString } from \"helpers/url\"\nimport { Items, Materials } from \"contexts/ItemContext\"\n\nimport { MenuItem } from \"./Items\"\nimport { UserItemInList } from \"./types\"\nimport { getTypedItemLength } from \"./helpers/count\"\n\ninterface Props {\n  activeType: string | null\n  showOnly: MenuItem[\"showOnly\"]\n  userItems: UserItemInList[]\n  items: Items\n  materials: Materials\n}\n\nfunction SubMenuItem(props: Props) {\n  const { activeType, showOnly, userItems, items, materials } = props\n  const { pathname } = useLocation()\n  const { queryString } = useSearchParams()\n\n  return (\n    <Flex justifyContent=\"center\" margin=\"1rem auto\" columns={showOnly.length}>\n      {showOnly.map((type) => (\n        <Button\n          key={type}\n          as={Link}\n          variant=\"ghost\"\n          fontWeight=\"normal\"\n          isActive={type === activeType}\n          to={`${pathname}?${getQueryString(\"type\", type, queryString)}`}\n        >\n          {type}{\" \"}\n          <Tag size=\"sm\" margin=\"0 0 -0.1em 0.5em\">\n            {getTypedItemLength({\n              types: [type],\n              userItems,\n              items,\n              materials,\n              pathname,\n            })}\n          </Tag>\n        </Button>\n      ))}\n    </Flex>\n  )\n}\n\nexport default SubMenuItem\n","import React from \"react\"\nimport { Link, useLocation } from \"react-router-dom\"\nimport { Tr, Th } from \"@chakra-ui/react\"\nimport { CgArrowDown, CgArrowUp } from \"react-icons/cg\"\n\nimport { useSearchParams } from \"hooks/url\"\nimport { getQueryString } from \"helpers/url\"\n\nimport { Order, Sort, TABLE_HEADERS } from \"./Items\"\nimport css from \"./styles/HeaderItem.module.css\"\n\ninterface Props {\n  activeSort: Sort\n  activeOrder: Order\n}\n\nfunction HeaderItem(props: Props) {\n  const { activeSort, activeOrder } = props\n  const { pathname } = useLocation()\n  const { queryString } = useSearchParams()\n\n  return (\n    <Tr>\n      {TABLE_HEADERS.map((title) => (\n        <Th\n          key={title}\n          as={Link}\n          to={`${pathname}?${\n            activeSort === title\n              ? getQueryString(\n                  \"order\",\n                  activeOrder === \"asc\" ? \"dsc\" : \"\",\n                  queryString,\n                )\n              : getQueryString(\"sort\", title, queryString)\n          }`}\n          className={`${css.title} ${activeSort === title ? css.active : \"\"}`}\n        >\n          {title}{\" \"}\n          {activeSort === title ? (\n            activeOrder === \"asc\" ? (\n              <CgArrowDown />\n            ) : (\n              <CgArrowUp />\n            )\n          ) : null}\n        </Th>\n      ))}\n    </Tr>\n  )\n}\n\nexport default HeaderItem\n","import React from \"react\"\nimport { Td, Tr, Image, Heading, Tag, Code, Badge, Box } from \"@chakra-ui/react\"\nimport { BsQuestionOctagonFill } from \"react-icons/bs\"\n\nimport { InfixUpgradeAttribute, Item as ItemDef, UserItemInList } from \"./types\"\nimport css from \"./styles/Item.module.css\"\n\ninterface Props {\n  item: ItemDef\n  userItem: UserItemInList\n  materialCategory?: string\n}\n\nfunction Item(props: Props) {\n  const { item, userItem, materialCategory } = props\n  return (\n    <Tr>\n      <Td className={css.iconCell}>\n        {item ? (\n          <Image\n            src={item.icon}\n            alt={item.rarity}\n            className={`${css.icon} ${css[item.rarity.toLowerCase()]}`}\n            border=\"5px yellow solid\"\n          />\n        ) : (\n          <BsQuestionOctagonFill size=\"3.5rem\" />\n        )}\n      </Td>\n      <Td className={css.nameCell}>\n        {item ? (\n          <>\n            <Heading\n              as=\"h4\"\n              size=\"sm\"\n              className={`${css.name} ${css[item?.rarity.toLowerCase()]}`}\n            >\n              {item.name}\n            </Heading>\n            {item.description && (\n              <p className={`${css.description} ${css.secondary}`}>\n                {item.description}\n              </p>\n            )}\n            {item.details?.description && (\n              <p className={`${css.description} ${css.secondary}`}>\n                {item.details.description}\n              </p>\n            )}\n            {item.details?.infix_upgrade && (\n              <p className={`${css.description} ${css.secondary}`}>\n                {item.details.infix_upgrade.attributes.map(\n                  (attr: InfixUpgradeAttribute) => (\n                    <Box as=\"span\" key={attr.attribute} marginRight=\"0.5rem\">\n                      <Tag size=\"sm\">{attr.attribute}</Tag> {attr.modifier}\n                    </Box>\n                  ),\n                )}\n              </p>\n            )}\n            {userItem.stats && (\n              <p className={`${css.description} ${css.secondary}`}>\n                {Object.keys(userItem.stats.attributes).map((attr) => (\n                  <Box key={attr} marginRight=\"0.5rem\" as=\"span\">\n                    <Tag variant=\"outline\" size=\"sm\">\n                      {attr}\n                    </Tag>{\" \"}\n                    {userItem.stats.attributes[attr]}\n                  </Box>\n                ))}\n              </p>\n            )}\n          </>\n        ) : (\n          <>\n            Item not exists in Guild Wars 2 API. ID: <Code>{userItem.id}</Code>\n          </>\n        )}\n      </Td>\n      <Td maxWidth=\"12rem\">\n        {item?.type}\n        {item?.details?.type && (\n          <div className={css.secondary}>{item?.details?.type}</div>\n        )}\n        {materialCategory && (\n          <div className={css.secondary}>{materialCategory}</div>\n        )}\n      </Td>\n      <Td maxWidth=\"6rem\">\n        {item && (\n          <>\n            {item.level}\n            <div className={css.secondary}>\n              {item && item.restrictions.join(\",\")}\n            </div>\n          </>\n        )}\n      </Td>\n      <Td minWidth=\"12rem\">\n        {userItem.location}{\" \"}\n        {userItem.isEquipped && (\n          <Badge size=\"sm\" fontWeight=\"normal\">\n            Equipped\n          </Badge>\n        )}\n        {userItem.bound_to && (\n          <div className={css.secondary}>bound to {userItem.bound_to}</div>\n        )}\n      </Td>\n      <Td maxWidth=\"6rem\">{userItem?.count}</Td>\n      <Td maxWidth=\"10rem\">\n        {item && <Code className={css.secondary}>{item.chat_link}</Code>}\n      </Td>\n    </Tr>\n  )\n}\n\nexport default Item\n","import React, { useState, useContext } from \"react\"\nimport {\n  NavLink,\n  Switch,\n  Route,\n  useHistory,\n  useLocation,\n  useParams,\n} from \"react-router-dom\"\nimport { chunk, findIndex } from \"lodash\"\nimport { MdSearch } from \"react-icons/md\"\nimport {\n  Tabs,\n  TabList,\n  Tab,\n  Input,\n  InputGroup,\n  InputLeftElement,\n  Spacer,\n  Table,\n  Thead,\n  Tbody,\n  Tag,\n  Center,\n  Spinner,\n} from \"@chakra-ui/react\"\n\nimport { ITEM_COUNT_PER_PAGE } from \"config\"\nimport ItemContext from \"contexts/ItemContext\"\nimport AccountContext from \"contexts/AccountContext\"\nimport CharacterContext from \"contexts/CharacterContext\"\nimport { useSearchParams } from \"hooks/url\"\nimport { getQueryString } from \"helpers/url\"\nimport Pagination from \"components/Pagination\"\n\nimport SubMenuItem from \"./SubMenuItem\"\nimport HeaderItem from \"./HeaderItem\"\nimport { Item as ItemDef, UserItemInList } from \"./types\"\nimport Item from \"./Item\"\nimport {\n  getTypedItemLength,\n  isItemInCategory,\n  isItemInTypes,\n} from \"./helpers/count\"\nimport css from \"./styles/Items.module.css\"\n\nfunction Items() {\n  const {\n    items,\n    materials,\n    materialCategories,\n    characterItems,\n    inventoryItems,\n    bankItems,\n    materialItems,\n    isFetching: isItemsFetching,\n  } = useContext(ItemContext)\n  const { isFetching: isCharactersFetching } = useContext(CharacterContext)\n  const { isFetching: isAccountFetching } = useContext(AccountContext)\n  const history = useHistory()\n  const { pathname } = useLocation()\n  const { category } = useParams()\n\n  const {\n    queryString,\n    keyword,\n    sort,\n    order,\n    type: activeType,\n  } = useSearchParams()\n  const activeSort: Sort = sort || \"location\"\n  const activeOrder: Order = order || \"asc\"\n\n  const allItems = [\n    ...characterItems,\n    ...inventoryItems,\n    ...bankItems,\n    ...materialItems,\n  ]\n  const visibleItems = allItems\n    .filter((userItem: UserItemInList) => {\n      if (activeType) {\n        return isItemInTypes({\n          types:\n            activeType === \"CraftingMaterial\"\n              ? materialCategories\n              : [activeType],\n          userItem,\n          items,\n          materials,\n          pathname,\n        })\n      } else if (category) {\n        return isItemInCategory({\n          userItem,\n          category,\n          items,\n          pathname,\n        })\n      } else {\n        return true\n      }\n    })\n    .filter((userItem: UserItemInList) => {\n      if (!keyword) return true\n      const itemRaw: ItemDef = items[userItem.id]\n      const item = { ...userItem, ...itemRaw }\n      return JSON.stringify(item).match(new RegExp(keyword, \"i\"))\n    })\n    .sort((_a: UserItemInList, _b: UserItemInList) => {\n      const a = { ..._a, ...items[_a.id] }\n      const b = { ..._b, ...items[_b.id] }\n      const number =\n        activeSort === \"rarity\"\n          ? compareRarity(a.rarity, b.rarity)\n          : compare(a[activeSort], b[activeSort])\n      return activeOrder === \"asc\" ? number : number * -1\n    })\n\n  const pages = chunk(visibleItems, ITEM_COUNT_PER_PAGE)\n  const [pageIndex, setPageIndex] = useState<number>(0)\n\n  return (\n    <Tabs\n      display=\"grid\"\n      gridTemplateRows=\"auto 1fr\"\n      height=\"100%\"\n      index={findIndex(MENU_ITEMS, (item) => item.to === pathname) + 1 || 0}\n    >\n      <TabList>\n        <Tab key=\"/items\" as={NavLink} exact to=\"/items\">\n          All\n          <Tag size=\"sm\" margin=\"0 0 -0.1em 0.5em\">\n            {allItems?.length}\n          </Tag>\n        </Tab>\n        {MENU_ITEMS.map((item) => (\n          <Tab key={item.to} as={NavLink} to={item.to}>\n            {item.text}\n            <Tag size=\"sm\" margin=\"0 0 -0.1em 0.5em\">\n              {getTypedItemLength({\n                types:\n                  item.to === \"/items/material\"\n                    ? materialCategories\n                    : item.showOnly,\n                userItems: allItems,\n                items,\n                materials,\n                pathname: item.to,\n              })}\n            </Tag>\n          </Tab>\n        ))}\n        <Spacer />\n        <InputGroup width=\"20ch\">\n          <InputLeftElement>\n            <MdSearch opacity=\"0.5\" />\n          </InputLeftElement>\n          <Input\n            variant=\"unstyled\"\n            value={keyword || \"\"}\n            onChange={(e) => {\n              const to = `${pathname}?${getQueryString(\n                \"keyword\",\n                e.currentTarget.value,\n                queryString,\n              )}`\n              history.push(to)\n            }}\n          />\n        </InputGroup>\n      </TabList>\n      {isItemsFetching || isCharactersFetching || isAccountFetching ? (\n        <Center>\n          <Spinner />\n        </Center>\n      ) : (\n        <div>\n          <Switch>\n            {MENU_ITEMS.map((menuItem) => (\n              <Route key={menuItem.to} path={menuItem.to}>\n                <SubMenuItem\n                  showOnly={\n                    menuItem.to === \"/items/material\"\n                      ? materialCategories\n                      : menuItem.showOnly\n                  }\n                  activeType={activeType}\n                  userItems={allItems}\n                  items={items}\n                  materials={materials}\n                  isMaterial={menuItem.to === \"/items/material\"}\n                />\n              </Route>\n            ))}\n          </Switch>\n          <Pagination\n            pageIndex={pageIndex}\n            setPageIndex={setPageIndex}\n            pages={pages}\n          />\n          <Table className={css.table}>\n            <Thead>\n              <HeaderItem activeSort={activeSort} activeOrder={activeOrder} />\n            </Thead>\n            <Tbody>\n              {pages[pageIndex]?.map(\n                (userItem: UserItemInList, index: number) => {\n                  const item: ItemDef = items[userItem.id]\n                  const materialCategory = materials[userItem.category]\n                  return (\n                    <Item\n                      key={index}\n                      item={item}\n                      userItem={userItem}\n                      materialCategory={materialCategory}\n                    />\n                  )\n                },\n              )}\n            </Tbody>\n          </Table>\n        </div>\n      )}\n    </Tabs>\n  )\n}\n\nexport default Items\n\nexport interface MenuItem {\n  to: string\n  text: string\n  showOnly: string[]\n}\n\nexport const MENU_ITEMS: MenuItem[] = [\n  {\n    to: \"/items/equipable\",\n    text: \"Equipable\",\n    showOnly: [\n      \"Armor\",\n      \"Weapon\",\n      \"Back\",\n      \"Trinket\",\n      \"Gathering\",\n      \"UpgradeComponent\",\n      \"Bag\",\n    ],\n  },\n  {\n    to: \"/items/consumable\",\n    text: \"Consumable\",\n    showOnly: [\n      \"Consumable\",\n      \"Container\",\n      \"Gizmo\",\n      \"Key\",\n      \"MiniPet\",\n      \"Tool\",\n      \"Trait\",\n    ],\n  },\n  { to: \"/items/material\", text: \"Material\", showOnly: [\"CraftingMaterial\"] },\n  { to: \"/items/trophy\", text: \"Trophy\", showOnly: [\"Trophy\"] },\n]\n\nexport const TABLE_HEADERS = [\n  \"rarity\",\n  \"name\",\n  \"type\",\n  \"level\",\n  \"location\",\n  \"count\",\n  \"chat_link\",\n]\n\nexport type Sort =\n  | \"rarity\"\n  | \"name\"\n  | \"type\"\n  | \"level\"\n  | \"location\"\n  | \"count\"\n  | \"chat_link\"\n\nexport type Order = \"asc\" | \"dsc\"\n\nconst RARITY_MAP: { [key: string]: number } = {\n  Junk: 0,\n  Basic: 1,\n  Fine: 2,\n  Masterwork: 3,\n  Rare: 4,\n  Exotic: 5,\n  Ascended: 6,\n  Legendary: 7,\n}\nconst compareRarity = (_a: string, _b: string) => {\n  const a = RARITY_MAP[_a]\n  const b = RARITY_MAP[_b]\n  return compare(a, b)\n}\nconst compare = (a: string | number, b: string | number) => {\n  if (a > b) return 1\n  if (a < b) return -1\n  return 0\n}\n","import Items from \"./Items\"\n\nexport default Items\n","import React, { useState, useContext } from \"react\"\nimport { useQuery } from \"react-query\"\nimport { FaSave, FaTrashAlt } from \"react-icons/fa\"\nimport { Box, Button, Code, Grid, Heading, Input } from \"@chakra-ui/react\"\n\nimport { queryFunction } from \"helpers/api\"\nimport TokenContext, { UsedAccount } from \"contexts/TokenContext\"\nimport ItemContext from \"contexts/ItemContext\"\n\nfunction Settings() {\n  const {\n    currentAccount,\n    usedAccounts,\n    addUsedAccount,\n    removeUsedAccount,\n    setCurrentAccount,\n  } = useContext(TokenContext)\n  const { setCharacterItems } = useContext(ItemContext)\n\n  const handleDelete = (account: UsedAccount) => {\n    removeUsedAccount(account)\n    if (currentAccount?.token === account.token) {\n      setCurrentAccount(null)\n      setCharacterItems([])\n    }\n  }\n\n  const [token, setToken] = useState(\"\")\n\n  const { refetch, isFetching } = useQuery([\"account\", token], queryFunction, {\n    staleTime: Infinity,\n    enabled: false,\n  })\n\n  const handleSubmit = async () => {\n    const { data } = await refetch()\n    if (data) {\n      const account = {\n        name: data.name,\n        token,\n      }\n      addUsedAccount(account)\n      setCurrentAccount(account)\n      setToken(\"\")\n    }\n  }\n\n  return (\n    <Box margin=\"0 auto\" padding=\"1rem\" maxWidth=\"60rem\">\n      <Heading\n        size=\"lg\"\n        textAlign=\"center\"\n        fontFamily=\"Rosario\"\n        marginBottom=\"2rem\"\n      >\n        Manage Tokens in Your Local Storage\n      </Heading>\n      <Grid templateColumns=\"auto 1fr auto\" gap=\"1rem\" alignItems=\"center\">\n        {usedAccounts.map((account: UsedAccount) => {\n          return (\n            <>\n              <Heading\n                size=\"md\"\n                key={account.name}\n                fontWeight=\"normal\"\n                fontFamily=\"Rosario\"\n              >\n                {account.name}\n              </Heading>\n              <Code fontSize=\"sm\" key={account.token}>\n                {account.token}\n              </Code>\n              <Button\n                key={account.token + \" button\"}\n                variant=\"ghost\"\n                onClick={() => {\n                  handleDelete(account)\n                }}\n              >\n                <FaTrashAlt />\n              </Button>\n            </>\n          )\n        })}\n        <div>Add new...</div>\n        <Input\n          autoFocus={true}\n          placeholder=\"paste your token here\"\n          value={token}\n          onChange={(e) => {\n            setToken(e.currentTarget.value)\n          }}\n        />\n        <Button variant=\"ghost\" isLoading={isFetching} onClick={handleSubmit}>\n          <FaSave />\n        </Button>\n      </Grid>\n    </Box>\n  )\n}\n\nexport default Settings\n","import Settings from \"./Settings\"\n\nexport default Settings\n","import React from \"react\"\nimport { HashRouter as Router, Redirect, Route, Switch } from \"react-router-dom\"\nimport { QueryClient, QueryClientProvider } from \"react-query\"\nimport { ChakraProvider } from \"@chakra-ui/react\"\n\nimport { TokenProvider } from \"contexts/TokenContext\"\nimport { ItemProvider } from \"contexts/ItemContext\"\nimport { AccountProvider } from \"contexts/AccountContext\"\nimport { CharacterProvider } from \"contexts/CharacterContext\"\nimport BaseFrame from \"layouts/BaseFrame\"\nimport Characters from \"pages/characters\"\nimport Items from \"pages/items\"\nimport Settings from \"pages/settings\"\n\nimport \"./App.css\"\n\nconst queryClient = new QueryClient()\n\nconst Content = () => {\n  return (\n    <BaseFrame>\n      <Switch>\n        <Route path=\"/characters\">\n          <Characters />\n        </Route>\n        <Route path=\"/items/:category?\">\n          <Items />\n        </Route>\n        <Route path=\"/settings\">\n          <Settings />\n        </Route>\n        <Route path=\"/\">\n          <Redirect to=\"/characters\" />\n        </Route>\n      </Switch>\n    </BaseFrame>\n  )\n}\n\nexport const App = () => {\n  return (\n    <ChakraProvider>\n      <QueryClientProvider client={queryClient}>\n        <TokenProvider>\n          <ItemProvider>\n            <AccountProvider>\n              <CharacterProvider>\n                <Router>\n                  <Content />\n                </Router>\n              </CharacterProvider>\n            </AccountProvider>\n          </ItemProvider>\n        </TokenProvider>\n      </QueryClientProvider>\n    </ChakraProvider>\n  )\n}\n","import { ReportHandler } from \"web-vitals\"\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n)\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void\n  onUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://cra.link/PWA\",\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://cra.link/PWA.\",\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It is the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\")\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\")\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\",\n      )\n    })\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister()\n      })\n      .catch((error) => {\n        console.error(error.message)\n      })\n  }\n}\n","import * as React from \"react\"\nimport ReactDOM from \"react-dom\"\n\nimport { App } from \"./App\"\nimport reportWebVitals from \"./reportWebVitals\"\nimport * as serviceWorker from \"./serviceWorker\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorker.unregister()\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"iconCell\":\"Item_iconCell__20ao9\",\"icon\":\"Item_icon__FvfL8\",\"junk\":\"Item_junk__2Fulf\",\"basic\":\"Item_basic__3iuy0\",\"fine\":\"Item_fine__2DHgw\",\"masterwork\":\"Item_masterwork__30J5-\",\"rare\":\"Item_rare__FoKYL\",\"exotic\":\"Item_exotic__3M3In\",\"ascended\":\"Item_ascended__20bat\",\"legendary\":\"Item_legendary__2tlYn\",\"nameCell\":\"Item_nameCell__J1haS\",\"name\":\"Item_name__2U4rP\",\"description\":\"Item_description__2zDcH\",\"secondary\":\"Item_secondary__2dW75\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Characters_title__3Q3A2\",\"active\":\"Characters_active__1kUhb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"HeaderItem_title__2Pegk\",\"active\":\"HeaderItem_active__1GDgd\"};"],"sourceRoot":""}