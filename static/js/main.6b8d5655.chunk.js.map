{"version":3,"sources":["pages/items/styles/Items.module.css","contexts/TokenContext.tsx","helpers/api.ts","config.ts","contexts/ItemContext.tsx","contexts/AccountContext.tsx","contexts/CharacterContext.tsx","blocks/Header.tsx","layouts/BaseFrame.tsx","helpers/url.ts","hooks/url.ts","pages/characters/Overview.tsx","pages/characters/Characters.tsx","pages/characters/index.ts","components/Pagination.tsx","pages/items/helpers/count.ts","pages/items/SubMenuItem.tsx","pages/items/HeaderItem.tsx","pages/items/Item.tsx","pages/items/Items.tsx","pages/items/index.ts","pages/settings/Settings.tsx","pages/settings/index.ts","App.tsx","reportWebVitals.ts","serviceWorker.ts","index.tsx","pages/items/styles/Item.module.css","pages/characters/styles/Characters.module.css","pages/items/styles/HeaderItem.module.css"],"names":["module","exports","TokenContext","createContext","usedAccounts","addUsedAccount","account","removeUsedAccount","currentAccount","setCurrentAccount","TokenProvider","props","useState","getUsedAccounts","setUsedAccounts","updateUsedAccounts","newUsedAccounts","localStorage","setItem","JSON","stringify","Provider","value","newToken","find","item","token","abandonedToken","filter","length","children","storedTokens","readStoredTokens","v1StoredTokens","readV1StoredTokens","removeItem","storage","getItem","parse","err","console","log","v1Storage","v1Data","Object","keys","map","name","description","queryFunction","context","a","queryKey","endpoint","paramsString","searchParams","URLSearchParams","append","queryString","toString","fetchGW2","data","fetch","headers","res","ok","json","ItemContext","items","characterItems","inventoryItems","bankItems","materialItems","setCharacterItems","val","setInventoryItems","setBankItems","setMaterialItems","isFetching","ItemProvider","useReducer","currentItems","newItems","id","addItems","setIsFetching","fetchItems","newIds","existingIdSet","Set","key","parseInt","idsToFetch","has","chunks","chunk","join","useEffect","AccountContext","AccountProvider","useContext","useQuery","staleTime","Infinity","enabled","inventory","isInventoryFetching","bank","isBankFetching","materials","isMaterialsFetching","reduce","prev","location","CharacterContext","characters","undefined","CharacterProvider","character","bagItems","bags","bag","currentBag","isEquipped","currentBagItems","currentItem","equippedItems","equipment","MENU_ITEMS","to","text","Header","templateColumns","gap","padding","alignContent","alignItems","borderBottom","fontFamily","as","Link","marginRight","height","marginBottom","alt","src","justifyContent","NavLink","variant","fontWeight","borderRadius","_hover","background","activeStyle","color","cursor","Button","paddin","rightIcon","position","top","icon","onClick","BaseFrame","templateRows","getQueryString","newKey","newValue","current","currentSearchParams","set","entries","delete","useSearchParams","useLocation","search","sort","get","order","profession","keyword","type","Overview","activeSort","activeOrder","className","css","table","COLUMNS","title","active","column","formatDistanceStrict","age","unit","Gender","gender","format","Date","created","component","Characters","history","useHistory","activeProfession","visibleCharacters","match","RegExp","b","display","gridTemplateRows","width","opacity","onChange","e","currentTarget","push","margin","columns","PROFESSIONS","isActive","size","Component","path","Pagination","pageIndex","setPageIndex","pages","lastPageIndex","ButtonGroup","isAttached","marginTop","borderBottomWidth","aria-label","index","isOutofScope","isOnEdge","fontSize","minWidth","transition","getTypedItemLength","types","userItems","characterItem","itemRaw","includes","ItemHeader","activeType","showOnly","pathname","HeaderItem","Item","userItem","iconCell","rarity","toLowerCase","border","nameCell","secondary","details","infix_upgrade","attributes","attr","attribute","modifier","stats","maxWidth","level","restrictions","bound_to","count","chat_link","Items","isItemsFetching","isCharactersFetching","isAccountFetching","category","useParams","allItems","visibleItems","menuItem","_a","_b","SubMenuItem","Settings","setToken","refetch","handleSubmit","textAlign","handleDelete","autoFocus","placeholder","isLoading","queryClient","QueryClient","Content","App","QueryClientProvider","client","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Boolean","window","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.6b8d5655.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"Items_table__W9AWp\"};","import React, { useState, createContext } from \"react\"\n\ninterface Values {\n  usedAccounts: UsedAccount[]\n  addUsedAccount(account: UsedAccount): void\n  removeUsedAccount(account: UsedAccount): void\n  currentAccount: UsedAccount | null\n  setCurrentAccount(account: UsedAccount | null): void\n}\n\nconst TokenContext = createContext<Values>({\n  usedAccounts: [],\n  addUsedAccount: (account: UsedAccount) => {},\n  removeUsedAccount: (account: UsedAccount) => {},\n  currentAccount: null,\n  setCurrentAccount: (account: UsedAccount | null) => {},\n})\n\nfunction TokenProvider(props: { children: React.ReactNode }) {\n  const [usedAccounts, setUsedAccounts] = useState<UsedAccount[]>(\n    getUsedAccounts(),\n  )\n  const [currentAccount, setCurrentAccount] = useState<UsedAccount | null>(null)\n\n  const updateUsedAccounts = (newUsedAccounts: UsedAccount[]) => {\n    localStorage.setItem(\"gw2iTokens\", JSON.stringify(newUsedAccounts))\n    setUsedAccounts(newUsedAccounts)\n  }\n\n  const addUsedAccount = (newToken: UsedAccount) => {\n    if (usedAccounts.find((item) => item.token === newToken.token)) {\n      return\n    }\n    if (!newToken.token) {\n      return\n    }\n    const newUsedAccounts = [newToken, ...usedAccounts]\n    updateUsedAccounts(newUsedAccounts)\n  }\n\n  const removeUsedAccount = (abandonedToken: UsedAccount) => {\n    const newUsedAccounts = usedAccounts.filter(\n      (item) => item.token !== abandonedToken.token,\n    )\n    if (newUsedAccounts.length === usedAccounts.length) {\n      return\n    }\n    updateUsedAccounts(newUsedAccounts)\n  }\n\n  return (\n    <TokenContext.Provider\n      value={{\n        usedAccounts,\n        addUsedAccount,\n        removeUsedAccount,\n        currentAccount,\n        setCurrentAccount,\n      }}\n    >\n      {props.children}\n    </TokenContext.Provider>\n  )\n}\n\nexport default TokenContext\nexport { TokenProvider }\n\nconst getUsedAccounts = () => {\n  const storedTokens: UsedAccount[] = readStoredTokens()\n  const v1StoredTokens: UsedAccount[] = readV1StoredTokens()\n  const usedAccounts: UsedAccount[] = [\n    ...storedTokens,\n    ...v1StoredTokens,\n  ].filter((item) => item.token)\n  if (v1StoredTokens.length > 0) {\n    localStorage.setItem(\"gw2iTokens\", JSON.stringify(usedAccounts))\n    localStorage.removeItem(\"gw2i\")\n  }\n  return usedAccounts\n}\n\nconst readStoredTokens = () => {\n  const storage = localStorage.getItem(\"gw2iTokens\")\n  if (storage) {\n    try {\n      const data = JSON.parse(storage)\n      return data\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  return []\n}\n\nconst readV1StoredTokens = () => {\n  const v1Storage = localStorage.getItem(\"gw2i\")\n  if (v1Storage) {\n    try {\n      const v1Data: { [key: string]: string } = JSON.parse(v1Storage)\n      const v1UsedAccounts = Object.keys(v1Data).map((name: string) => {\n        return {\n          name,\n          token: v1Data[name],\n          description: \"\",\n        }\n      })\n      return v1UsedAccounts\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  return []\n}\n\nexport interface UsedAccount {\n  name: string\n  token: string\n  description?: string\n}\n","import { QueryFunctionContext } from \"react-query\"\n\nimport { API_URL, API_LANG } from \"config\"\n\nexport const queryFunction = async (context: QueryFunctionContext) => {\n  const { queryKey } = context\n  const [endpoint, token = \"\", paramsString = \"\"] = queryKey\n  if (!endpoint) return\n\n  const searchParams = new URLSearchParams(paramsString)\n  searchParams.append(\"access_token\", token)\n  const queryString = searchParams.toString()\n\n  const data = await fetchGW2(endpoint, queryString)\n  return data\n}\n\nexport const fetchGW2 = async (endpoint: string, queryString?: string) => {\n  const res = await fetch(`${API_URL}/${endpoint}?${queryString}`, {\n    headers: {\n      \"Accept-Language\": API_LANG,\n    },\n  })\n  if (res.ok) {\n    const data = await res.json()\n    return data\n  }\n}\n","export const APP_NAME = \"Guild Wars 2 Inventory\"\n\nexport const API_URL = \"https://api.guildwars2.com/v2\"\n\nexport const API_LANG = \"en\"\n\nexport const BASE_URL = \"/gw2inventory\"\n\nexport const LOCAL_STORAGE_KEYS = {\n  legacy: \"gw2i\",\n  tokens: \"gw2iTokens\",\n}\n\nexport const ITEM_COUNT_PER_PAGE = 100\n\nexport const DATE_FORMAT = \"YYYY-MM-DD HH:mm:ss\"\n","import React, { useState, useEffect, useReducer, createContext } from \"react\"\nimport { chunk } from \"lodash\"\n\nimport { fetchGW2 } from \"helpers/api\"\nimport { Item } from \"pages/items/types\"\nimport { CharacterItemInList } from \"pages/characters/types\"\nimport {\n  BankItemInList,\n  InventoryItemInList,\n  MaterialItemInList,\n} from \"pages/account/types\"\n\ninterface Values {\n  items: { [key: number]: Item }\n  characterItems: CharacterItemInList[]\n  inventoryItems: InventoryItemInList[]\n  bankItems: BankItemInList[]\n  materialItems: MaterialItemInList[]\n  setCharacterItems(val: CharacterItemInList[]): void\n  setInventoryItems(val: InventoryItemInList[]): void\n  setBankItems(val: BankItemInList[]): void\n  setMaterialItems(val: MaterialItemInList[]): void\n  isFetching: boolean\n}\n\nconst ItemContext = createContext<Values>({\n  items: {},\n  characterItems: [],\n  inventoryItems: [],\n  bankItems: [],\n  materialItems: [],\n  setCharacterItems: (val: CharacterItemInList[]) => {},\n  setInventoryItems: (val: InventoryItemInList[]) => {},\n  setBankItems: (val: BankItemInList[]) => {},\n  setMaterialItems: (val: MaterialItemInList[]) => {},\n  isFetching: false,\n})\n\ninterface Items {\n  [key: number]: Item\n}\n\nfunction ItemProvider(props: { children: React.ReactNode }) {\n  const [items, addItems] = useReducer(\n    (currentItems: Items, newItems: Item[]) => {\n      for (const item of newItems) {\n        currentItems[item.id] = item\n      }\n      return { ...currentItems }\n    },\n    {},\n  )\n\n  const [isFetching, setIsFetching] = useState<boolean>(false)\n\n  const fetchItems = async (newIds: number[]) => {\n    setIsFetching(true)\n    const existingIdSet = new Set(\n      Object.keys(items).map((key) => parseInt(key)),\n    )\n    const idsToFetch = newIds.filter((id) => !existingIdSet.has(id))\n    const chunks = chunk(idsToFetch, 200)\n\n    let newItems: Item[] = []\n    for (const chunk of chunks) {\n      const data = await fetchGW2(\"items\", `ids=${chunk.join(\",\")}`)\n      if (data) {\n        newItems = [...newItems, ...data]\n      }\n    }\n    setIsFetching(false)\n    addItems(newItems)\n  }\n\n  const [characterItems, setCharacterItems] = useState<CharacterItemInList[]>(\n    [],\n  )\n  useEffect(() => {\n    fetchItems(characterItems.map((item) => item.id))\n  }, [characterItems.length])\n\n  const [inventoryItems, setInventoryItems] = useState<InventoryItemInList[]>(\n    [],\n  )\n  useEffect(() => {\n    fetchItems(inventoryItems.map((item) => item.id))\n  }, [inventoryItems.length])\n\n  const [bankItems, setBankItems] = useState<BankItemInList[]>([])\n  useEffect(() => {\n    fetchItems(bankItems.map((item) => item.id))\n  }, [bankItems.length])\n\n  const [materialItems, setMaterialItems] = useState<MaterialItemInList[]>([])\n  useEffect(() => {\n    fetchItems(materialItems.map((item) => item.id))\n  }, [materialItems.length])\n\n  return (\n    <ItemContext.Provider\n      value={{\n        items,\n        characterItems,\n        inventoryItems,\n        bankItems,\n        materialItems,\n        setCharacterItems,\n        setInventoryItems,\n        setBankItems,\n        setMaterialItems,\n        isFetching,\n      }}\n    >\n      {props.children}\n    </ItemContext.Provider>\n  )\n}\n\nexport default ItemContext\nexport { ItemProvider }\n","import React, { useEffect, useContext, createContext } from \"react\"\nimport { useQuery } from \"react-query\"\n\nimport TokenContext from \"contexts/TokenContext\"\nimport ItemContext from \"contexts/ItemContext\"\nimport { queryFunction } from \"helpers/api\"\nimport {\n  InventoryItemInList,\n  BankItemInList,\n  MaterialItemInList,\n  InventoryItem,\n  BankItem,\n  MaterialItem,\n} from \"pages/account/types\"\n\ninterface Values {\n  isFetching: boolean\n}\n\nconst AccountContext = createContext<Values>({\n  isFetching: false,\n})\n\nfunction AccountProvider(props: { children: React.ReactNode }) {\n  const { currentAccount } = useContext(TokenContext)\n  const { setInventoryItems, setBankItems, setMaterialItems } =\n    useContext(ItemContext)\n\n  const { data: inventory, isFetching: isInventoryFetching } = useQuery(\n    [\"account/inventory\", currentAccount?.token],\n    queryFunction,\n    {\n      staleTime: Infinity,\n      enabled: !!currentAccount?.token,\n    },\n  )\n  const { data: bank, isFetching: isBankFetching } = useQuery(\n    [\"account/bank\", currentAccount?.token],\n    queryFunction,\n    {\n      staleTime: Infinity,\n      enabled: !!currentAccount?.token,\n    },\n  )\n  const { data: materials, isFetching: isMaterialsFetching } = useQuery(\n    [\"account/materials\", currentAccount?.token],\n    queryFunction,\n    {\n      staleTime: Infinity,\n      enabled: !!currentAccount?.token,\n    },\n  )\n\n  useEffect(() => {\n    if (!inventory) return\n    const inventoryItems: InventoryItemInList[] = inventory.reduce(\n      (prev: InventoryItemInList[], item: InventoryItem) => {\n        if (!item) return prev\n        return [...prev, { ...item, location: \"Shared inventory\" }]\n      },\n      [],\n    )\n    setInventoryItems(inventoryItems)\n  }, [inventory?.length])\n\n  useEffect(() => {\n    if (!bank) return\n    const bankItems: BankItemInList[] = bank.reduce(\n      (prev: BankItemInList[], item: BankItem) => {\n        if (!item) return prev\n        return [...prev, { ...item, location: \"Bank\" }]\n      },\n      [],\n    )\n    setBankItems(bankItems)\n  }, [bank?.length])\n\n  useEffect(() => {\n    if (!materials) return\n    const materialItems: MaterialItemInList[] = materials.reduce(\n      (prev: MaterialItemInList[], item: MaterialItem) => {\n        if (!item) return prev\n        return [...prev, { ...item, location: \"Vault\" }]\n      },\n      [],\n    )\n    setMaterialItems(materialItems)\n  }, [materials?.length])\n\n  return (\n    <AccountContext.Provider\n      value={{\n        isFetching:\n          isInventoryFetching || isBankFetching || isMaterialsFetching,\n      }}\n    >\n      {props.children}\n    </AccountContext.Provider>\n  )\n}\n\nexport default AccountContext\nexport { AccountProvider }\n","import React, { useEffect, useContext, createContext } from \"react\"\nimport { useQuery } from \"react-query\"\n\nimport TokenContext from \"contexts/TokenContext\"\nimport ItemContext from \"contexts/ItemContext\"\nimport { queryFunction } from \"helpers/api\"\nimport {\n  CharacterBag,\n  CharacterBagItem,\n  CharacterItemInList,\n} from \"pages/characters/types\"\n\nconst CharacterContext = createContext({\n  characters: undefined,\n  isFetching: false,\n})\n\nfunction CharacterProvider(props: { children: React.ReactNode }) {\n  const { currentAccount } = useContext(TokenContext)\n  const { setCharacterItems } = useContext(ItemContext)\n\n  const { data: characters, isFetching } = useQuery(\n    [\"characters\", currentAccount?.token, \"ids=all\"],\n    queryFunction,\n    {\n      staleTime: Infinity,\n      enabled: !!currentAccount?.token,\n    },\n  )\n\n  useEffect(() => {\n    if (!characters) return\n    let characterItems: CharacterItemInList[] = []\n\n    for (const character of characters) {\n      const bagItems = character.bags.reduce(\n        (prev: CharacterItemInList[], bag: CharacterBag | null) => {\n          if (!bag) return prev\n          const currentBag = {\n            ...bag,\n            location: character.name,\n            isEquipped: true,\n          }\n          const currentBagItems = bag.inventory.reduce(\n            (prev: CharacterItemInList[], item: CharacterBagItem) => {\n              if (!item) return prev\n              const currentItem = { ...item, location: character.name }\n              return [...prev, currentItem]\n            },\n            [],\n          )\n          return [...prev, currentBag, ...currentBagItems]\n        },\n        [],\n      )\n      const equippedItems = character.equipment.map((item) => {\n        return {\n          ...item,\n          location: character.name,\n          isEquipped: true,\n        }\n      })\n      characterItems = [...characterItems, ...bagItems, ...equippedItems]\n    }\n    setCharacterItems(characterItems)\n  }, [characters?.length])\n\n  return (\n    <CharacterContext.Provider value={{ characters, isFetching }}>\n      {props.children}\n    </CharacterContext.Provider>\n  )\n}\n\nexport default CharacterContext\nexport { CharacterProvider }\n","import React, { useContext } from \"react\"\nimport { Link, NavLink } from \"react-router-dom\"\nimport {\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuItem,\n  Button,\n  SimpleGrid,\n  Flex,\n  Image,\n} from \"@chakra-ui/react\"\nimport { FaCog, FaUser } from \"react-icons/fa\"\nimport { MdExpandMore } from \"react-icons/md\"\n\nimport { APP_NAME, BASE_URL } from \"config\"\nimport TokenContext, { UsedAccount } from \"contexts/TokenContext\"\n\nconst MENU_ITEMS = [\n  // { to: \"/account\", text: \"Account\" },\n  { to: \"/characters\", text: \"Characters\" },\n  { to: \"/items\", text: \"Items\" },\n  // { to: \"/unlocks\", text: \"Unlocks\" },\n  // { to: \"/trades\", text: \"Trades\" },\n  // { to: \"/wallet\", text: \"Wallet\" },\n]\n\nfunction Header() {\n  const { usedAccounts, currentAccount, setCurrentAccount } =\n    useContext(TokenContext)\n\n  return (\n    <SimpleGrid\n      templateColumns=\"auto 1fr auto\"\n      gap=\"1rem\"\n      padding=\"0 1rem\"\n      alignContent=\"stretch\"\n      alignItems=\"stretch\"\n      borderBottom=\"2px hsla(326, 73%, 55%, 1) solid\"\n      fontFamily=\"Rosario\"\n    >\n      <Flex\n        as={Link}\n        alignItems=\"center\"\n        borderBottom=\"2px hsla(326, 73%, 55%, 1) solid\"\n        to=\"/\"\n      >\n        <Image\n          marginRight=\"1rem\"\n          height=\"3.5rem\"\n          marginBottom=\"-2px\"\n          alt=\"logo\"\n          src={`${BASE_URL}/favicon.png`}\n        />\n        {APP_NAME}\n      </Flex>\n      <Flex as=\"nav\" justifyContent=\"center\">\n        {MENU_ITEMS.map((item) => (\n          <Button\n            key={item.to}\n            as={NavLink}\n            to={item.to}\n            variant=\"ghost\"\n            fontWeight=\"normal\"\n            borderRadius=\"0\"\n            height=\"3.5rem\"\n            borderBottom=\"2px hsla(326, 73%, 55%, 1) solid\"\n            _hover={{ background: \"hsla(326, 15%, 55%, 0.1)\" }}\n            activeStyle={{\n              background: \"hsla(326, 73%, 55%, 1)\",\n              color: \"#f9f9f9\",\n              cursor: \"initial\",\n            }}\n          >\n            {item.text}\n          </Button>\n        ))}\n      </Flex>\n      <Menu>\n        <MenuButton\n          as={Button}\n          variant=\"ghost\"\n          fontWeight=\"normal\"\n          borderRadius=\"0\"\n          height=\"100%\"\n          paddin=\"1rem\"\n          marginRight=\"-0.5rem\"\n          borderBottom=\"2px hsla(326, 73%, 55%, 1) solid\"\n          rightIcon={<MdExpandMore />}\n        >\n          {currentAccount?.name || \"Select a token\"}\n        </MenuButton>\n        <MenuList borderRadius=\"0\" position=\"relative\" top=\"-0.75rem\">\n          {usedAccounts.map((item: UsedAccount) => (\n            <MenuItem\n              key={item.token}\n              icon={<FaUser />}\n              onClick={() => {\n                setCurrentAccount(item)\n              }}\n            >\n              {item.name}\n            </MenuItem>\n          ))}\n          <MenuItem as={Link} to=\"/settings\" icon={<FaCog />}>\n            Manage tokens...\n          </MenuItem>\n        </MenuList>\n      </Menu>\n    </SimpleGrid>\n  )\n}\n\nexport default Header\n","import React from \"react\"\n\nimport Header from \"blocks/Header\"\n\nimport { Box, Grid } from \"@chakra-ui/react\"\n\ninterface Props {\n  children?: React.ReactNode\n}\n\nfunction BaseFrame(props: Props) {\n  const { children } = props\n\n  return (\n    <Grid templateRows=\"auto 3.5rem 1fr\" height=\"100vh\">\n      <div />\n      <Header />\n      <Box background=\"hsla(50, 30%, 98%, 1)\" padding=\"1rem\">\n        {children}\n      </Box>\n    </Grid>\n  )\n}\n\nexport default BaseFrame\n","export const getQueryString = (\n  newKey: string,\n  newValue: string,\n  current: string,\n) => {\n  const currentSearchParams = new URLSearchParams(current)\n  currentSearchParams.set(newKey, newValue)\n  for (const [key, value] of currentSearchParams.entries()) {\n    if (!value || value === \"All\") {\n      currentSearchParams.delete(key)\n    }\n  }\n  return currentSearchParams.toString()\n}\n","import { useLocation } from \"react-router-dom\"\n\nexport const useSearchParams = () => {\n  const { search: queryString } = useLocation()\n  const searchParams = new URLSearchParams(queryString)\n  const sort = searchParams.get(\"sort\")\n  const order = searchParams.get(\"order\")\n  const profession = searchParams.get(\"profession\")\n  const keyword = searchParams.get(\"keyword\")\n  const type = searchParams.get(\"type\")\n\n  return { queryString, sort, order, profession, keyword, type }\n}\n","import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { format, formatDistanceStrict } from \"date-fns\"\nimport { GiFemale, GiMale } from \"react-icons/gi\"\nimport { CgArrowDown, CgArrowUp } from \"react-icons/cg\"\nimport { Table, Thead, Tbody, Tr, Th, Td } from \"@chakra-ui/react\"\n\nimport { getQueryString } from \"helpers/url\"\n\nimport { Character } from \"./types\"\nimport css from \"./styles/Characters.module.css\"\n\ninterface Props {\n  characters: Character[]\n  token: string\n  activeSort: string\n  activeOrder: string\n  queryString: string\n}\n\nfunction Overview(props: Props) {\n  const { characters, activeSort, activeOrder, queryString } = props\n  return (\n    <Table className={css.table}>\n      <Thead>\n        <Tr>\n          {COLUMNS.map((title) => (\n            <Th\n              key={title}\n              as={Link}\n              to={`/characters?${\n                activeSort === title\n                  ? getQueryString(\n                      \"order\",\n                      activeOrder === \"asc\" ? \"dsc\" : \"\",\n                      queryString,\n                    )\n                  : getQueryString(\"sort\", title, queryString)\n              }`}\n              className={`${css.title} ${\n                activeSort === title ? css.active : \"\"\n              }`}\n            >\n              {title}{\" \"}\n              {activeSort === title ? (\n                activeOrder === \"asc\" ? (\n                  <CgArrowDown />\n                ) : (\n                  <CgArrowUp />\n                )\n              ) : null}\n            </Th>\n          ))}\n        </Tr>\n      </Thead>\n      <Tbody>\n        {characters.map((character) => (\n          <Tr key={character.name}>\n            {COLUMNS.map((column) => (\n              <Td key={column}>\n                {column === \"age\" ? (\n                  formatDistanceStrict(0, character.age * 1000, {\n                    unit: \"hour\",\n                  })\n                ) : column === \"gender\" ? (\n                  <Gender gender={character.gender} />\n                ) : column === \"created\" ? (\n                  format(new Date(character.created), \"yyyy-MM-dd\")\n                ) : (\n                  character[column]\n                )}\n              </Td>\n            ))}\n          </Tr>\n        ))}\n      </Tbody>\n    </Table>\n  )\n}\n\nexport default Overview\n\nconst COLUMNS = [\n  \"name\",\n  \"gender\",\n  \"race\",\n  \"profession\",\n  \"level\",\n  \"age\",\n  \"created\",\n  \"deaths\",\n]\n\nfunction Gender(props: { gender: string }) {\n  const { gender } = props\n  if (gender === \"Female\") {\n    return <GiFemale />\n  } else {\n    return <GiMale />\n  }\n}\n\n//\"crafting\",\n//backstory: string[] // An array of strings representing backstory answer IDs pertaining to the questions answered during character creation. References /v2/backstory/answers.\n//skills: {\n//  pve: Skills // contains the information on each slotted utility for PvE\n//  pvp: Skills // contains the information on each slotted utility for PvP\n//  wvw: Skills // contains the information on each slotted utility for WvW\n//} // contains the pve, pvp, and wvw objects for the current utilities equipped.\n//specializations: {\n//  pve: Spec[] // contains the information on each slotted specialization and trait for PvE\n//  pvp: Spec[] // contains the information on each slotted specialization and trait for PvP\n//  wvw: Spec[] // contains the information on each slotted specialization and trait for WvW\n//} // contains the pve, pvp, and wvw objects for the current specializations and traits equipped.\n//training: Training[] // contains objects for each skill tree trained\n//wvw_abilities: WvW[] // contains information on each trained wvw ability\n//equipment_pvp: PvP // Contains information on character's pvp equipment setup.\n//flags: \"Beta\"[] // Returns character flags. Possible values: Beta - Beta character for testing period of add-ons\n//recipes: number[] // The endpoi\n","import React, { useContext } from \"react\"\nimport { Link, NavLink, Route, Switch, useHistory } from \"react-router-dom\"\nimport { MdSearch } from \"react-icons/md\"\nimport {\n  Tabs,\n  TabList,\n  Tab,\n  Center,\n  Spinner,\n  Button,\n  Tag,\n  Flex,\n  Input,\n  InputGroup,\n  InputLeftElement,\n  Spacer,\n} from \"@chakra-ui/react\"\n\nimport TokenContext from \"contexts/TokenContext\"\nimport CharacterContext from \"contexts/CharacterContext\"\n\nimport { getQueryString } from \"helpers/url\"\nimport { useSearchParams } from \"hooks/url\"\nimport { Character } from \"pages/characters/types\"\n\nimport Overview from \"./Overview\"\n\nconst MENU_ITEMS = [\n  { to: \"/characters\", text: \"Overview\", component: Overview },\n]\n\nfunction Characters() {\n  const { currentAccount } = useContext(TokenContext)\n  const { characters, isFetching } = useContext(CharacterContext)\n  const history = useHistory()\n\n  const {\n    queryString,\n    profession: activeProfession,\n    keyword,\n    sort,\n    order,\n  } = useSearchParams()\n  const activeSort = sort || \"name\"\n  const activeOrder = order || \"asc\"\n\n  const visibleCharacters = characters\n    ?.filter(\n      (character: Character) =>\n        character.profession === activeProfession || !activeProfession,\n    )\n    .filter((character: Character) =>\n      !!keyword\n        ? JSON.stringify(character).match(new RegExp(keyword, \"i\"))\n        : true,\n    )\n    .sort((a, b) => {\n      if (a[activeSort] > b[activeSort] && activeOrder === \"asc\") return 1\n      if (a[activeSort] < b[activeSort] && activeOrder === \"dsc\") return 1\n      if (a[activeSort] > b[activeSort] && activeOrder === \"dsc\") return -1\n      if (a[activeSort] < b[activeSort] && activeOrder === \"asc\") return -1\n      return 0\n    })\n\n  return (\n    <Tabs display=\"grid\" gridTemplateRows=\"auto 1fr\" height=\"100%\">\n      <TabList>\n        {MENU_ITEMS.map((item) => (\n          <Tab key={item.to} as={NavLink} to={item.to}>\n            {item.text}\n          </Tab>\n        ))}\n        <Spacer />\n        <InputGroup width=\"20ch\">\n          <InputLeftElement>\n            <MdSearch opacity=\"0.5\" />\n          </InputLeftElement>\n          <Input\n            variant=\"unstyled\"\n            value={keyword || \"\"}\n            onChange={(e) => {\n              const to = `/characters?${getQueryString(\n                \"keyword\",\n                e.currentTarget.value,\n                queryString,\n              )}`\n              history.push(to)\n            }}\n          />\n        </InputGroup>\n      </TabList>\n      {isFetching ? (\n        <Center>\n          <Spinner />\n        </Center>\n      ) : (\n        <div>\n          <Flex\n            justifyContent=\"center\"\n            margin=\"1rem auto\"\n            columns={PROFESSIONS.length}\n          >\n            <Button\n              as={Link}\n              variant=\"ghost\"\n              fontWeight=\"normal\"\n              isActive={!activeProfession}\n              to={`/characters?${getQueryString(\n                \"profession\",\n                \"\",\n                queryString,\n              )}`}\n            >\n              All\n              <Tag size=\"sm\" margin=\"0 0 -0.1em 0.5em\">\n                {characters?.length || \"0\"}\n              </Tag>\n            </Button>{\" \"}\n            {PROFESSIONS.map((profession) => (\n              <Button\n                key={profession}\n                as={Link}\n                variant=\"ghost\"\n                fontWeight=\"normal\"\n                isActive={activeProfession === profession}\n                to={`/characters?${getQueryString(\n                  \"profession\",\n                  profession,\n                  queryString,\n                )}`}\n              >\n                {profession}{\" \"}\n                <Tag size=\"sm\" margin=\"0 0 -0.1em 0.5em\">\n                  {characters?.filter(\n                    (character: Character) =>\n                      character.profession === profession ||\n                      profession === \"All\",\n                  ).length || \"0\"}\n                </Tag>\n              </Button>\n            ))}\n          </Flex>\n          <Switch>\n            {currentAccount &&\n              characters &&\n              MENU_ITEMS.map((item) => {\n                const Component = item.component\n                return (\n                  <Route key={item.to} path={item.to}>\n                    <Component\n                      characters={visibleCharacters}\n                      token={currentAccount.token}\n                      activeSort={activeSort}\n                      activeOrder={activeOrder}\n                      queryString={queryString}\n                    />\n                  </Route>\n                )\n              })}\n          </Switch>\n        </div>\n      )}\n    </Tabs>\n  )\n}\n\nexport default Characters\n\nconst PROFESSIONS = [\n  \"Elementalist\",\n  \"Necromancer\",\n  \"Mesmer\",\n  \"Ranger\",\n  \"Thief\",\n  \"Engineer\",\n  \"Warrior\",\n  \"Guardian\",\n  \"Revenant\",\n]\n","import Characters from \"./Characters\"\n\nexport default Characters\n","import React from \"react\"\nimport {\n  CgChevronDoubleLeft,\n  CgChevronDoubleRight,\n  CgChevronLeft,\n  CgChevronRight,\n} from \"react-icons/cg\"\nimport { Flex, Button, ButtonGroup, IconButton } from \"@chakra-ui/react\"\n\nimport { CharacterItemInList } from \"pages/characters/types\"\nimport { useEffect } from \"react\"\n\ninterface Props {\n  pageIndex: number\n  setPageIndex(index: number): void\n  pages: CharacterItemInList[][]\n}\n\nfunction Pagination(props: Props) {\n  const { pageIndex, setPageIndex, pages } = props\n  const lastPageIndex = pages.length > 0 ? pages.length - 1 : 0\n  const goFirst = () => {\n    if (pageIndex === 0) return\n    setPageIndex(0)\n  }\n  const goPrev = () => {\n    if (pageIndex === 0) return\n    setPageIndex(pageIndex - 1)\n  }\n  const goNext = () => {\n    if (!pages.length) return\n    if (pageIndex === lastPageIndex) return\n    setPageIndex(pageIndex + 1)\n  }\n  const goLast = () => {\n    if (!pages.length) return\n    setPageIndex(lastPageIndex)\n  }\n  useEffect(() => {\n    if (pageIndex > lastPageIndex) {\n      setPageIndex(lastPageIndex)\n    }\n    if (pageIndex < 0) {\n      console.log(pageIndex)\n    }\n  }, [pageIndex, setPageIndex, pages.length])\n\n  return (\n    <Flex\n      as={ButtonGroup}\n      isAttached\n      variant=\"ghost\"\n      marginTop=\"1rem\"\n      borderBottomWidth=\"1px\"\n      justifyContent=\"center\"\n    >\n      <IconButton aria-label=\"first page\" onClick={goFirst}>\n        <CgChevronDoubleLeft />\n      </IconButton>\n      <IconButton aria-label=\"previous page\" onClick={goPrev}>\n        <CgChevronLeft />\n      </IconButton>\n      {pages.map((chunk, index: number) => {\n        const isOutofScope = index > pageIndex + 10 || index < pageIndex - 10\n        const isOnEdge = index === pageIndex + 10 || index === pageIndex - 10\n        return (\n          <Button\n            key={index}\n            fontWeight=\"normal\"\n            isActive={index === pageIndex}\n            padding={isOutofScope ? 0 : \"\"}\n            fontSize={isOutofScope ? 0 : \"\"}\n            minWidth={isOutofScope ? 0 : \"\"}\n            transition=\"padding 0.25s ease-out, min-width 0.25s ease-out\"\n            onClick={() => {\n              setPageIndex(index)\n            }}\n          >\n            {isOnEdge ? \"...\" : index + 1}\n          </Button>\n        )\n      })}\n      <IconButton aria-label=\"next page\" onClick={goNext}>\n        <CgChevronRight />\n      </IconButton>\n      <IconButton aria-label=\"last page\" onClick={goLast}>\n        <CgChevronDoubleRight />\n      </IconButton>\n    </Flex>\n  )\n}\n\nexport default Pagination\n","import { Item, UserItemInList } from \"pages/items/types\"\n\nexport const getTypedItemLength = (\n  types: string[],\n  userItems: UserItemInList[],\n  items: Item[],\n): number => {\n  if (!userItems || !items) return 0\n\n  const typedItems = userItems.filter((characterItem: UserItemInList) => {\n    const itemRaw: Item = items[characterItem.id]\n    return types.includes(itemRaw?.type)\n  })\n  return typedItems.length\n}\n","import React from \"react\"\nimport { Link, useLocation } from \"react-router-dom\"\nimport { Tag, Flex, Button } from \"@chakra-ui/react\"\n\nimport { useSearchParams } from \"hooks/url\"\nimport { getQueryString } from \"helpers/url\"\n\nimport { MenuItem } from \"./Items\"\nimport { Item, UserItemInList } from \"./types\"\nimport { getTypedItemLength } from \"./helpers/count\"\n\ninterface Props {\n  activeType: string | null\n  showOnly: MenuItem[\"showOnly\"]\n  userItems: UserItemInList[]\n  items: Item[]\n}\n\nfunction ItemHeader(props: Props) {\n  const { activeType, showOnly, userItems, items } = props\n  const { pathname } = useLocation()\n  const { queryString } = useSearchParams()\n\n  return (\n    <Flex justifyContent=\"center\" margin=\"1rem auto\" columns={showOnly.length}>\n      {showOnly.map((type) => (\n        <Button\n          key={type}\n          as={Link}\n          variant=\"ghost\"\n          fontWeight=\"normal\"\n          isActive={type === activeType}\n          to={`${pathname}?${getQueryString(\"type\", type, queryString)}`}\n        >\n          {type}{\" \"}\n          <Tag size=\"sm\" margin=\"0 0 -0.1em 0.5em\">\n            {getTypedItemLength([type], userItems, items)}\n          </Tag>\n        </Button>\n      ))}\n    </Flex>\n  )\n}\n\nexport default ItemHeader\n","import React from \"react\"\nimport { Link, useLocation } from \"react-router-dom\"\nimport { Tr, Th } from \"@chakra-ui/react\"\nimport { CgArrowDown, CgArrowUp } from \"react-icons/cg\"\n\nimport { useSearchParams } from \"hooks/url\"\nimport { getQueryString } from \"helpers/url\"\n\nimport css from \"./styles/HeaderItem.module.css\"\n\ninterface Props {\n  activeSort: string\n  activeOrder: string\n}\n\nfunction HeaderItem(props: Props) {\n  const { activeSort, activeOrder } = props\n  const { pathname } = useLocation()\n  const { queryString } = useSearchParams()\n\n  return (\n    <Tr>\n      {[\n        \"rarity\",\n        \"name\",\n        \"type\",\n        \"level\",\n        \"location\",\n        \"count\",\n        \"chat_link\",\n      ].map((title) => (\n        <Th\n          key={title}\n          as={Link}\n          to={`${pathname}?${\n            activeSort === title\n              ? getQueryString(\n                  \"order\",\n                  activeOrder === \"asc\" ? \"dsc\" : \"\",\n                  queryString,\n                )\n              : getQueryString(\"sort\", title, queryString)\n          }`}\n          className={`${css.title} ${activeSort === title ? css.active : \"\"}`}\n        >\n          {title}{\" \"}\n          {activeSort === title ? (\n            activeOrder === \"asc\" ? (\n              <CgArrowDown />\n            ) : (\n              <CgArrowUp />\n            )\n          ) : null}\n        </Th>\n      ))}\n    </Tr>\n  )\n}\n\nexport default HeaderItem\n","import React from \"react\"\nimport { Td, Tr, Image, Heading, Tag, Code, Badge, Box } from \"@chakra-ui/react\"\nimport { BsQuestionOctagonFill } from \"react-icons/bs\"\n\nimport { InfixUpgradeAttribute, Item as ItemDef, UserItemInList } from \"./types\"\nimport css from \"./styles/Item.module.css\"\n\ninterface Props {\n  item: ItemDef\n  userItem: UserItemInList\n}\n\nfunction Item(props: Props) {\n  const { item, userItem } = props\n  return (\n    <Tr>\n      <Td className={css.iconCell}>\n        {item ? (\n          <Image\n            src={item.icon}\n            alt={item.rarity}\n            className={`${css.icon} ${css[item.rarity.toLowerCase()]}`}\n            border=\"5px yellow solid\"\n          />\n        ) : (\n          <BsQuestionOctagonFill size=\"3.5rem\" />\n        )}\n      </Td>\n      <Td className={css.nameCell}>\n        {item ? (\n          <>\n            <Heading\n              as=\"h4\"\n              size=\"sm\"\n              className={`${css.name} ${css[item?.rarity.toLowerCase()]}`}\n            >\n              {item.name}\n            </Heading>\n            {item.description && (\n              <p className={`${css.description} ${css.secondary}`}>\n                {item.description}\n              </p>\n            )}\n            {item.details?.description && (\n              <p className={`${css.description} ${css.secondary}`}>\n                {item.details.description}\n              </p>\n            )}\n            {item.details?.infix_upgrade && (\n              <p className={`${css.description} ${css.secondary}`}>\n                {item.details.infix_upgrade.attributes.map(\n                  (attr: InfixUpgradeAttribute) => (\n                    <Box as=\"span\" key={attr.attribute} marginRight=\"0.5rem\">\n                      <Tag size=\"sm\">{attr.attribute}</Tag> {attr.modifier}\n                    </Box>\n                  ),\n                )}\n              </p>\n            )}\n            {userItem.stats && (\n              <p className={`${css.description} ${css.secondary}`}>\n                {Object.keys(userItem.stats.attributes).map((attr) => (\n                  <Box key={attr} marginRight=\"0.5rem\" as=\"span\">\n                    <Tag variant=\"outline\" size=\"sm\">\n                      {attr}\n                    </Tag>{\" \"}\n                    {userItem.stats.attributes[attr]}\n                  </Box>\n                ))}\n              </p>\n            )}\n          </>\n        ) : (\n          <>\n            Item not exists in Guild Wars 2 API. ID: <Code>{userItem.id}</Code>\n          </>\n        )}\n      </Td>\n      <Td maxWidth=\"12rem\">\n        {item?.type}\n        <div className={css.secondary}>{item?.details?.type}</div>\n      </Td>\n      <Td maxWidth=\"6rem\">\n        {item && (\n          <>\n            {item.level}\n            <div className={css.secondary}>\n              {item && item.restrictions.join(\",\")}\n            </div>\n          </>\n        )}\n      </Td>\n      <Td minWidth=\"12rem\">\n        {userItem.location}{\" \"}\n        {userItem.isEquipped && (\n          <Badge size=\"sm\" fontWeight=\"normal\">\n            Equipped\n          </Badge>\n        )}\n        {userItem.bound_to && (\n          <div className={css.secondary}>bound to {userItem.bound_to}</div>\n        )}\n      </Td>\n      <Td maxWidth=\"6rem\">{userItem?.count}</Td>\n      <Td maxWidth=\"10rem\">\n        {item && <Code className={css.secondary}>{item.chat_link}</Code>}\n      </Td>\n    </Tr>\n  )\n}\n\nexport default Item\n","import React, { useState, useContext } from \"react\"\nimport {\n  NavLink,\n  Switch,\n  Route,\n  useHistory,\n  useLocation,\n  useParams,\n} from \"react-router-dom\"\nimport { chunk } from \"lodash\"\nimport { MdSearch } from \"react-icons/md\"\nimport {\n  Tabs,\n  TabList,\n  Tab,\n  Input,\n  InputGroup,\n  InputLeftElement,\n  Spacer,\n  Table,\n  Thead,\n  Tbody,\n  Tag,\n  Center,\n  Spinner,\n} from \"@chakra-ui/react\"\n\nimport { ITEM_COUNT_PER_PAGE } from \"config\"\nimport ItemContext from \"contexts/ItemContext\"\nimport AccountContext from \"contexts/AccountContext\"\nimport CharacterContext from \"contexts/CharacterContext\"\nimport { useSearchParams } from \"hooks/url\"\nimport { getQueryString } from \"helpers/url\"\nimport Pagination from \"components/Pagination\"\n\nimport SubMenuItem from \"./SubMenuItem\"\nimport HeaderItem from \"./HeaderItem\"\nimport { Item as ItemDef, UserItemInList } from \"./types\"\nimport Item from \"./Item\"\nimport { getTypedItemLength } from \"./helpers/count\"\nimport css from \"./styles/Items.module.css\"\n\nfunction Items() {\n  const {\n    items,\n    characterItems,\n    inventoryItems,\n    bankItems,\n    materialItems,\n    isFetching: isItemsFetching,\n  } = useContext(ItemContext)\n  const { isFetching: isCharactersFetching } = useContext(CharacterContext)\n  const { isFetching: isAccountFetching } = useContext(AccountContext)\n  const history = useHistory()\n  const { pathname } = useLocation()\n  const { category } = useParams()\n\n  const {\n    queryString,\n    keyword,\n    sort,\n    order,\n    type: activeType,\n  } = useSearchParams()\n  const activeSort = sort || \"location\"\n  const activeOrder = order || \"asc\"\n\n  const allItems = [\n    ...characterItems,\n    ...inventoryItems,\n    ...bankItems,\n    ...materialItems,\n  ]\n  const visibleItems = allItems\n    .filter((userItem: UserItemInList) => {\n      const itemRaw: ItemDef = items[userItem.id]\n      if (activeType) {\n        return activeType === itemRaw?.type\n      }\n      if (category) {\n        const activeTypes =\n          MENU_ITEMS.find((menuItem) => menuItem.to === pathname)?.showOnly ||\n          []\n        return activeTypes.includes(itemRaw?.type)\n      }\n      return true\n    })\n    .filter((userItem: UserItemInList) => {\n      if (!keyword) return true\n      const itemRaw: ItemDef = items[userItem.id]\n      const item = { ...userItem, ...itemRaw }\n      return JSON.stringify(item).match(new RegExp(keyword, \"i\"))\n    })\n    .sort((_a: UserItemInList, _b: UserItemInList) => {\n      const a = { ..._a, ...items[_a.id] }\n      const b = { ..._b, ...items[_b.id] }\n      if (a[activeSort] > b[activeSort] && activeOrder === \"asc\") return 1\n      if (a[activeSort] < b[activeSort] && activeOrder === \"dsc\") return 1\n      if (a[activeSort] > b[activeSort] && activeOrder === \"dsc\") return -1\n      if (a[activeSort] < b[activeSort] && activeOrder === \"asc\") return -1\n      return 0\n    })\n\n  const pages = chunk(visibleItems, ITEM_COUNT_PER_PAGE)\n  const [pageIndex, setPageIndex] = useState<number>(0)\n\n  return (\n    <Tabs display=\"grid\" gridTemplateRows=\"auto 1fr\" height=\"100%\">\n      <TabList>\n        <Tab key=\"/items\" as={NavLink} to=\"/items\">\n          All\n          <Tag size=\"sm\" margin=\"0 0 -0.1em 0.5em\">\n            {allItems?.length}\n          </Tag>\n        </Tab>\n        {MENU_ITEMS.map((item) => (\n          <Tab key={item.to} as={NavLink} to={item.to}>\n            {item.text}\n            <Tag size=\"sm\" margin=\"0 0 -0.1em 0.5em\">\n              {getTypedItemLength(item.showOnly, allItems, items)}\n            </Tag>\n          </Tab>\n        ))}\n        <Spacer />\n        <InputGroup width=\"20ch\">\n          <InputLeftElement>\n            <MdSearch opacity=\"0.5\" />\n          </InputLeftElement>\n          <Input\n            variant=\"unstyled\"\n            value={keyword || \"\"}\n            onChange={(e) => {\n              const to = `${pathname}?${getQueryString(\n                \"keyword\",\n                e.currentTarget.value,\n                queryString,\n              )}`\n              history.push(to)\n            }}\n          />\n        </InputGroup>\n      </TabList>\n      {isItemsFetching || isCharactersFetching || isAccountFetching ? (\n        <Center>\n          <Spinner />\n        </Center>\n      ) : (\n        <div>\n          <Switch>\n            {MENU_ITEMS.map((menuItem) => (\n              <Route key={menuItem.to} path={menuItem.to}>\n                <SubMenuItem\n                  showOnly={menuItem.showOnly}\n                  activeType={activeType}\n                  userItems={allItems}\n                  items={items}\n                />\n              </Route>\n            ))}\n          </Switch>\n          <Pagination\n            pageIndex={pageIndex}\n            setPageIndex={setPageIndex}\n            pages={pages}\n          />\n          <Table className={css.table}>\n            <Thead>\n              <HeaderItem activeSort={activeSort} activeOrder={activeOrder} />\n            </Thead>\n            <Tbody>\n              {pages[pageIndex]?.map(\n                (userItem: UserItemInList, index: number) => {\n                  const item: ItemDef = items[userItem.id]\n                  return <Item key={index} item={item} userItem={userItem} />\n                },\n              )}\n            </Tbody>\n          </Table>\n        </div>\n      )}\n    </Tabs>\n  )\n}\n\nexport default Items\n\nexport interface MenuItem {\n  to: string\n  text: string\n  showOnly: string[]\n}\n\nconst MENU_ITEMS: MenuItem[] = [\n  {\n    to: \"/items/equipable\",\n    text: \"Equipable\",\n    showOnly: [\n      \"Armor\",\n      \"Weapon\",\n      \"Back\",\n      \"Trinket\",\n      \"Gathering\",\n      \"UpgradeComponent\",\n      \"Bag\",\n    ],\n  },\n  {\n    to: \"/items/consumable\",\n    text: \"Consumable\",\n    showOnly: [\n      \"Consumable\",\n      \"Container\",\n      \"Gizmo\",\n      \"Key\",\n      \"MiniPet\",\n      \"Tool\",\n      \"Trait\",\n    ],\n  },\n  { to: \"/items/material\", text: \"Material\", showOnly: [\"CraftingMaterial\"] },\n  { to: \"/items/trophy\", text: \"Trophy\", showOnly: [\"Trophy\"] },\n]\n","import Items from \"./Items\"\n\nexport default Items\n","import React, { useState, useContext } from \"react\"\nimport { useQuery } from \"react-query\"\nimport { FaSave, FaTrashAlt } from \"react-icons/fa\"\nimport { Box, Button, Code, Grid, Heading, Input } from \"@chakra-ui/react\"\n\nimport { queryFunction } from \"helpers/api\"\nimport TokenContext, { UsedAccount } from \"contexts/TokenContext\"\nimport ItemContext from \"contexts/ItemContext\"\n\nfunction Settings() {\n  const {\n    currentAccount,\n    usedAccounts,\n    addUsedAccount,\n    removeUsedAccount,\n    setCurrentAccount,\n  } = useContext(TokenContext)\n  const { setCharacterItems } = useContext(ItemContext)\n\n  const handleDelete = (account: UsedAccount) => {\n    removeUsedAccount(account)\n    if (currentAccount?.token === account.token) {\n      setCurrentAccount(null)\n      setCharacterItems([])\n    }\n  }\n\n  const [token, setToken] = useState(\"\")\n\n  const { refetch, isFetching } = useQuery([\"account\", token], queryFunction, {\n    staleTime: Infinity,\n    enabled: false,\n  })\n\n  const handleSubmit = async () => {\n    const { data } = await refetch()\n    if (data) {\n      const account = {\n        name: data.name,\n        token,\n      }\n      addUsedAccount(account)\n      setCurrentAccount(account)\n      setToken(\"\")\n    }\n  }\n\n  return (\n    <Box margin=\"0 auto\" padding=\"1rem\" maxWidth=\"60rem\">\n      <Heading\n        size=\"lg\"\n        textAlign=\"center\"\n        fontFamily=\"Rosario\"\n        marginBottom=\"2rem\"\n      >\n        Manage Tokens in Your Local Storage\n      </Heading>\n      <Grid templateColumns=\"auto 1fr auto\" gap=\"1rem\" alignItems=\"center\">\n        {usedAccounts.map((account: UsedAccount) => {\n          return (\n            <>\n              <Heading\n                size=\"md\"\n                key={account.name}\n                fontWeight=\"normal\"\n                fontFamily=\"Rosario\"\n              >\n                {account.name}\n              </Heading>\n              <Code fontSize=\"sm\" key={account.token}>\n                {account.token}\n              </Code>\n              <Button\n                key={account.token + \" button\"}\n                variant=\"ghost\"\n                onClick={() => {\n                  handleDelete(account)\n                }}\n              >\n                <FaTrashAlt />\n              </Button>\n            </>\n          )\n        })}\n        <div>Add new...</div>\n        <Input\n          autoFocus={true}\n          placeholder=\"paste your token here\"\n          value={token}\n          onChange={(e) => {\n            setToken(e.currentTarget.value)\n          }}\n        />\n        <Button variant=\"ghost\" isLoading={isFetching} onClick={handleSubmit}>\n          <FaSave />\n        </Button>\n      </Grid>\n    </Box>\n  )\n}\n\nexport default Settings\n","import Settings from \"./Settings\"\n\nexport default Settings\n","import React from \"react\"\nimport { HashRouter as Router, Redirect, Route, Switch } from \"react-router-dom\"\nimport { QueryClient, QueryClientProvider } from \"react-query\"\nimport { ChakraProvider } from \"@chakra-ui/react\"\n\nimport { TokenProvider } from \"contexts/TokenContext\"\nimport { ItemProvider } from \"contexts/ItemContext\"\nimport { AccountProvider } from \"contexts/AccountContext\"\nimport { CharacterProvider } from \"contexts/CharacterContext\"\nimport BaseFrame from \"layouts/BaseFrame\"\nimport Characters from \"pages/characters\"\nimport Items from \"pages/items\"\nimport Settings from \"pages/settings\"\n\nimport \"./App.css\"\n\nconst queryClient = new QueryClient()\n\nconst Content = () => {\n  return (\n    <BaseFrame>\n      <Switch>\n        <Route path=\"/characters\">\n          <Characters />\n        </Route>\n        <Route path=\"/items/:category?\">\n          <Items />\n        </Route>\n        <Route path=\"/settings\">\n          <Settings />\n        </Route>\n        <Route path=\"/\">\n          <Redirect to=\"/characters\" />\n        </Route>\n      </Switch>\n    </BaseFrame>\n  )\n}\n\nexport const App = () => {\n  return (\n    <ChakraProvider>\n      <QueryClientProvider client={queryClient}>\n        <TokenProvider>\n          <ItemProvider>\n            <AccountProvider>\n              <CharacterProvider>\n                <Router>\n                  <Content />\n                </Router>\n              </CharacterProvider>\n            </AccountProvider>\n          </ItemProvider>\n        </TokenProvider>\n      </QueryClientProvider>\n    </ChakraProvider>\n  )\n}\n","import { ReportHandler } from \"web-vitals\"\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n)\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void\n  onUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://cra.link/PWA\",\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://cra.link/PWA.\",\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It is the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\")\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\")\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\",\n      )\n    })\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister()\n      })\n      .catch((error) => {\n        console.error(error.message)\n      })\n  }\n}\n","import * as React from \"react\"\nimport ReactDOM from \"react-dom\"\n\nimport { App } from \"./App\"\nimport reportWebVitals from \"./reportWebVitals\"\nimport * as serviceWorker from \"./serviceWorker\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorker.unregister()\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"iconCell\":\"Item_iconCell__20ao9\",\"icon\":\"Item_icon__FvfL8\",\"junk\":\"Item_junk__2Fulf\",\"basic\":\"Item_basic__3iuy0\",\"fine\":\"Item_fine__2DHgw\",\"masterwork\":\"Item_masterwork__30J5-\",\"rare\":\"Item_rare__FoKYL\",\"exotic\":\"Item_exotic__3M3In\",\"ascended\":\"Item_ascended__20bat\",\"legendary\":\"Item_legendary__2tlYn\",\"nameCell\":\"Item_nameCell__J1haS\",\"name\":\"Item_name__2U4rP\",\"description\":\"Item_description__2zDcH\",\"secondary\":\"Item_secondary__2dW75\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Characters_title__3Q3A2\",\"active\":\"Characters_active__1kUhb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"HeaderItem_title__2Pegk\",\"active\":\"HeaderItem_active__1GDgd\"};"],"sourceRoot":""}