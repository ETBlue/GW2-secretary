(this.webpackJsonpgw2inventory=this.webpackJsonpgw2inventory||[]).push([[0],{115:function(e,t,n){e.exports={table:"Items_table__W9AWp"}},138:function(e,t,n){},139:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(106),r=n.n(c),i=n(21),s=n(22),o=n(175),l=n(107),u=n(174),d=n(9),j=n(5),b=n(3),m=Object(a.createContext)({usedAccounts:[],addUsedAccount:function(e){},removeUsedAccount:function(e){},currentAccount:null,setCurrentAccount:function(e){}});function h(e){var t=Object(a.useState)(f()),n=Object(j.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(null),s=Object(j.a)(i,2),o=s[0],l=s[1],u=function(e){localStorage.setItem("gw2iTokens",JSON.stringify(e)),r(e)};return Object(b.jsx)(m.Provider,{value:{usedAccounts:c,addUsedAccount:function(e){if(!c.find((function(t){return t.token===e.token}))&&e.token){var t=[e].concat(Object(d.a)(c));u(t)}},removeUsedAccount:function(e){var t=c.filter((function(t){return t.token!==e.token}));t.length!==c.length&&u(t)},currentAccount:o,setCurrentAccount:l},children:e.children})}var O=m,f=function(){var e=v(),t=g(),n=[].concat(Object(d.a)(e),Object(d.a)(t)).filter((function(e){return e.token}));return t.length>0&&(localStorage.setItem("gw2iTokens",JSON.stringify(n)),localStorage.removeItem("gw2i")),n},v=function(){var e=localStorage.getItem("gw2iTokens");if(e)try{return JSON.parse(e)}catch(t){console.log(t)}return[]},g=function(){var e=localStorage.getItem("gw2i");if(e)try{var t=JSON.parse(e);return Object.keys(t).map((function(e){return{name:e,token:t[e],description:""}}))}catch(n){console.log(n)}return[]},x=n(37),p=n.n(x),y=n(53),k=n(16),I=n(35),C=n(176),_=n(57),w=function(){var e=Object(y.a)(p.a.mark((function e(t){var n,a,c,r,i,s,o,l,u,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.queryKey,a=Object(j.a)(n,3),c=a[0],r=a[1],i=void 0===r?"":r,s=a[2],o=void 0===s?"":s,c){e.next=4;break}return e.abrupt("return");case 4:return(l=new URLSearchParams(o)).append("access_token",i),u=l.toString(),e.next=9,S(c,u);case 9:return d=e.sent,e.abrupt("return",d);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(y.a)(p.a.mark((function e(t,n){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.guildwars2.com/v2","/").concat(t,"?").concat(n),{headers:{"Accept-Language":"en"}});case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=Object(a.createContext)({items:{},materials:{},materialCategories:[],characterItems:[],inventoryItems:[],bankItems:[],materialItems:[],setCharacterItems:function(e){},setInventoryItems:function(e){},setBankItems:function(e){},setMaterialItems:function(e){},isFetching:!1});function F(e){var t=Object(a.useReducer)((function(e,t){var n,a=Object(I.a)(t);try{for(a.s();!(n=a.n()).done;){var c=n.value;e[c.id]=c}}catch(r){a.e(r)}finally{a.f()}return Object(k.a)({},e)}),{}),n=Object(j.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),s=Object(j.a)(i,2),o=s[0],l=s[1],u=function(){var e=Object(y.a)(p.a.mark((function e(t){var n,a,i,s,o,u,j,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!0),n=new Set(Object.keys(c).map((function(e){return parseInt(e)}))),a=t.filter((function(e){return!n.has(e)})),i=Object(_.chunk)(a,200),s=[],o=Object(I.a)(i),e.prev=6,o.s();case 8:if((u=o.n()).done){e.next=16;break}return j=u.value,e.next=12,S("items","ids=".concat(j.join(",")));case 12:(b=e.sent)&&(s=[].concat(Object(d.a)(s),Object(d.a)(b)));case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),o.e(e.t0);case 21:return e.prev=21,o.f(),e.finish(21);case 24:l(!1),r(s);case 26:case"end":return e.stop()}}),e,null,[[6,18,21,24]])})));return function(t){return e.apply(this,arguments)}}(),m=Object(a.useState)([]),h=Object(j.a)(m,2),O=h[0],f=h[1],v=Object(a.useState)([]),g=Object(j.a)(v,2),x=g[0],F=g[1],T=Object(a.useState)([]),N=Object(j.a)(T,2),M=N[0],R=N[1],B=Object(a.useState)([]),E=Object(j.a)(B,2),z=E[0],q=E[1];Object(a.useEffect)((function(){u(O.map((function(e){return e.id})))}),[O.length]),Object(a.useEffect)((function(){u(x.map((function(e){return e.id})))}),[x.length]),Object(a.useEffect)((function(){u(M.map((function(e){return e.id})))}),[M.length]),Object(a.useEffect)((function(){u(z.map((function(e){return e.id})))}),[z.length]);var P=Object(C.a)(["materials",,"ids=all"],w,{staleTime:1/0}),L=P.data,J=P.isFetching,U=Object(_.sortBy)(L,["order"]).map((function(e){return W[e.name]})),G=null===L||void 0===L?void 0:L.reduce((function(e,t){return e[t.id]=W[t.name],e}),{});return Object(b.jsx)(A.Provider,{value:{items:c,materials:G,materialCategories:U,characterItems:O,inventoryItems:x,bankItems:M,materialItems:z,setCharacterItems:f,setInventoryItems:F,setBankItems:R,setMaterialItems:q,isFetching:o||J},children:e.children})}var T=A,W={"Cooking Materials":"Cooking","Basic Crafting Materials":"Basic","Intermediate Crafting Materials":"Intermediate","Gemstones and Jewels":"Gemstones","Advanced Crafting Materials":"Advanced","Festive Materials":"Festive","Ascended Materials":"Ascended","Cooking Ingredients":"Ingredients","Scribing Materials":"Scribing"},N=Object(a.createContext)({isFetching:!1});function M(e){var t=Object(a.useContext)(O).currentAccount,n=Object(a.useContext)(T),c=n.setInventoryItems,r=n.setBankItems,i=n.setMaterialItems,s=Object(C.a)(["account/inventory",null===t||void 0===t?void 0:t.token],w,{staleTime:1/0,enabled:!!(null===t||void 0===t?void 0:t.token)}),o=s.data,l=s.isFetching,u=Object(C.a)(["account/bank",null===t||void 0===t?void 0:t.token],w,{staleTime:1/0,enabled:!!(null===t||void 0===t?void 0:t.token)}),j=u.data,m=u.isFetching,h=Object(C.a)(["account/materials",null===t||void 0===t?void 0:t.token],w,{staleTime:1/0,enabled:!!(null===t||void 0===t?void 0:t.token)}),f=h.data,v=h.isFetching;return Object(a.useEffect)((function(){if(o){var e=o.reduce((function(e,t){return t?[].concat(Object(d.a)(e),[Object(k.a)(Object(k.a)({},t),{},{location:"Shared inventory"})]):e}),[]);c(e)}}),[null===o||void 0===o?void 0:o.length]),Object(a.useEffect)((function(){if(j){var e=j.reduce((function(e,t){return t?[].concat(Object(d.a)(e),[Object(k.a)(Object(k.a)({},t),{},{location:"Bank"})]):e}),[]);r(e)}}),[null===j||void 0===j?void 0:j.length]),Object(a.useEffect)((function(){if(f){var e=f.reduce((function(e,t){return t?[].concat(Object(d.a)(e),[Object(k.a)(Object(k.a)({},t),{},{location:"Vault"})]):e}),[]);i(e)}}),[null===f||void 0===f?void 0:f.length]),Object(b.jsx)(N.Provider,{value:{isFetching:l||m||v},children:e.children})}var R=N,B=Object(a.createContext)({characters:void 0,isFetching:!1});function E(e){var t=Object(a.useContext)(O).currentAccount,n=Object(a.useContext)(T).setCharacterItems,c=Object(C.a)(["characters",null===t||void 0===t?void 0:t.token,"ids=all"],w,{staleTime:1/0,enabled:!!(null===t||void 0===t?void 0:t.token)}),r=c.data,i=c.isFetching;return Object(a.useEffect)((function(){if(r){var e,t=[],a=Object(I.a)(r);try{var c=function(){var n=e.value,a=n.bags.reduce((function(e,t){if(!t)return e;var a=Object(k.a)(Object(k.a)({},t),{},{location:n.name,isEquipped:!0}),c=t.inventory.reduce((function(e,t){if(!t)return e;var a=Object(k.a)(Object(k.a)({},t),{},{location:n.name});return[].concat(Object(d.a)(e),[a])}),[]);return[].concat(Object(d.a)(e),[a],Object(d.a)(c))}),[]),c=n.equipment.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{location:n.name,isEquipped:!0})}));t=[].concat(Object(d.a)(t),Object(d.a)(a),Object(d.a)(c))};for(a.s();!(e=a.n()).done;)c()}catch(i){a.e(i)}finally{a.f()}n(t)}}),[null===r||void 0===r?void 0:r.length]),Object(b.jsx)(B.Provider,{value:{characters:r,isFetching:i},children:e.children})}var z=B,q=n(157),P=n(158),L=n(180),J=n(120),U=n(172),G=n(59),D=n(56),H=[{to:"/characters",text:"Characters"},{to:"/items",text:"Items"}];var K=function(){var e=Object(a.useContext)(O),t=e.usedAccounts,n=e.currentAccount,c=e.setCurrentAccount;return Object(b.jsxs)(q.a,{templateColumns:"auto 1fr auto",gap:"1rem",padding:"0 1rem",alignContent:"stretch",alignItems:"stretch",borderBottom:"2px hsla(326, 73%, 55%, 1) solid",fontFamily:"Rosario",children:[Object(b.jsxs)(P.a,{as:s.b,alignItems:"center",borderBottom:"2px hsla(326, 73%, 55%, 1) solid",to:"/",children:[Object(b.jsx)(L.a,{marginRight:"1rem",height:"3.5rem",marginBottom:"-2px",alt:"logo",src:"".concat("/gw2inventory","/favicon.png")}),"Guild Wars 2 Inventory"]}),Object(b.jsx)(P.a,{as:"nav",justifyContent:"center",children:H.map((function(e){return Object(b.jsx)(J.a,{as:s.c,to:e.to,variant:"ghost",fontWeight:"normal",borderRadius:"0",height:"3.5rem",borderBottom:"2px hsla(326, 73%, 55%, 1) solid",_hover:{background:"hsla(326, 15%, 55%, 0.1)"},activeStyle:{background:"hsla(326, 73%, 55%, 1)",color:"#f9f9f9",cursor:"initial"},children:e.text},e.to)}))}),Object(b.jsxs)(U.a,{children:[Object(b.jsx)(U.b,{as:J.a,variant:"ghost",fontWeight:"normal",borderRadius:"0",height:"100%",paddin:"1rem",marginRight:"-0.5rem",borderBottom:"2px hsla(326, 73%, 55%, 1) solid",rightIcon:Object(b.jsx)(D.a,{}),children:(null===n||void 0===n?void 0:n.name)||"Select a token"}),Object(b.jsxs)(U.d,{borderRadius:"0",position:"relative",top:"-0.75rem",children:[t.map((function(e){return Object(b.jsx)(U.c,{icon:Object(b.jsx)(G.d,{}),onClick:function(){c(e)},children:e.name},e.token)})),Object(b.jsx)(U.c,{as:s.b,to:"/settings",icon:Object(b.jsx)(G.a,{}),children:"Manage tokens..."})]})]})]})},Y=n(108),Q=n(162);var V=function(e){var t=e.children;return Object(b.jsxs)(Y.a,{templateRows:"auto 3.5rem 1fr",height:"100vh",children:[Object(b.jsx)("div",{}),Object(b.jsx)(K,{}),Object(b.jsx)(Q.a,{background:"hsla(50, 30%, 98%, 1)",padding:"1rem",children:t})]})},$=n(182),X=n(164),Z=n(165),ee=n(166),te=n(177),ne=n(167),ae=n(181),ce=n(183),re=function(e,t,n){var a=new URLSearchParams(n);a.set(e,t);var c,r=Object(I.a)(a.entries());try{for(r.s();!(c=r.n()).done;){var i=Object(j.a)(c.value,2),s=i[0],o=i[1];o&&"All"!==o||a.delete(s)}}catch(l){r.e(l)}finally{r.f()}return a.toString()},ie=function(){var e=Object(i.h)().search,t=new URLSearchParams(e);return{queryString:e,sort:t.get("sort"),order:t.get("order"),profession:t.get("profession"),keyword:t.get("keyword"),type:t.get("type")}},se=n(178),oe=n(173),le=n(95),ue=n(38),de=n(163),je=n(85),be=n.n(je);var me=function(e){var t=e.characters,n=e.activeSort,a=e.activeOrder,c=e.queryString;return Object(b.jsxs)(de.a,{className:be.a.table,children:[Object(b.jsx)(de.e,{children:Object(b.jsx)(de.f,{children:he.map((function(e){return Object(b.jsxs)(de.d,{as:s.b,to:"/characters?".concat(n===e?re("order","asc"===a?"dsc":"",c):re("sort",e,c)),className:"".concat(be.a.title," ").concat(n===e?be.a.active:""),children:[e," ",n===e?"asc"===a?Object(b.jsx)(ue.a,{}):Object(b.jsx)(ue.b,{}):null]},e)}))})}),Object(b.jsx)(de.b,{children:t.map((function(e){return Object(b.jsx)(de.f,{children:he.map((function(t){return Object(b.jsx)(de.c,{children:"age"===t?Object(se.a)(0,1e3*e.age,{unit:"hour"}):"gender"===t?Object(b.jsx)(Oe,{gender:e.gender}):"created"===t?Object(oe.a)(new Date(e.created),"yyyy-MM-dd"):e[t]},t)}))},e.name)}))})]})},he=["name","gender","race","profession","level","age","created","deaths"];function Oe(e){return"Female"===e.gender?Object(b.jsx)(le.a,{}):Object(b.jsx)(le.b,{})}var fe=[{to:"/characters",text:"Overview",component:me}];var ve=function(){var e=Object(a.useContext)(O).currentAccount,t=Object(a.useContext)(z),n=t.characters,c=t.isFetching,r=Object(i.g)(),o=ie(),l=o.queryString,u=o.profession,d=o.keyword,j=o.sort,m=o.order,h=j||"name",f=m||"asc",v=null===n||void 0===n?void 0:n.filter((function(e){return e.profession===u||!u})).filter((function(e){return!d||JSON.stringify(e).match(new RegExp(d,"i"))})).sort((function(e,t){return e[h]>t[h]&&"asc"===f||e[h]<t[h]&&"dsc"===f?1:e[h]>t[h]&&"dsc"===f||e[h]<t[h]&&"asc"===f?-1:0}));return Object(b.jsxs)($.c,{display:"grid",gridTemplateRows:"auto 1fr",height:"100%",children:[Object(b.jsxs)($.b,{children:[fe.map((function(e){return Object(b.jsx)($.a,{as:s.c,to:e.to,children:e.text},e.to)})),Object(b.jsx)(X.a,{}),Object(b.jsxs)(Z.a,{width:"20ch",children:[Object(b.jsx)(ee.a,{children:Object(b.jsx)(D.b,{opacity:"0.5"})}),Object(b.jsx)(te.a,{variant:"unstyled",value:d||"",onChange:function(e){var t="/characters?".concat(re("keyword",e.currentTarget.value,l));r.push(t)}})]})]}),c?Object(b.jsx)(ne.a,{children:Object(b.jsx)(ae.a,{})}):Object(b.jsxs)("div",{children:[Object(b.jsxs)(P.a,{justifyContent:"center",margin:"1rem auto",columns:ge.length,children:[Object(b.jsxs)(J.a,{as:s.b,variant:"ghost",fontWeight:"normal",isActive:!u,to:"/characters?".concat(re("profession","",l)),children:["All",Object(b.jsx)(ce.a,{size:"sm",margin:"0 0 -0.1em 0.5em",children:(null===n||void 0===n?void 0:n.length)||"0"})]})," ",ge.map((function(e){return Object(b.jsxs)(J.a,{as:s.b,variant:"ghost",fontWeight:"normal",isActive:u===e,to:"/characters?".concat(re("profession",e,l)),children:[e," ",Object(b.jsx)(ce.a,{size:"sm",margin:"0 0 -0.1em 0.5em",children:(null===n||void 0===n?void 0:n.filter((function(t){return t.profession===e||"All"===e})).length)||"0"})]},e)}))]}),Object(b.jsx)(i.d,{children:e&&n&&fe.map((function(t){var n=t.component;return Object(b.jsx)(i.b,{path:t.to,children:Object(b.jsx)(n,{characters:v,token:e.token,activeSort:h,activeOrder:f,queryString:l})},t.to)}))})]})]})},ge=["Elementalist","Necromancer","Mesmer","Ranger","Thief","Engineer","Warrior","Guardian","Revenant"],xe=ve,pe=n(111),ye=n(168);var ke=function(e){var t=e.pageIndex,n=e.setPageIndex,c=e.pages,r=c.length>0?c.length-1:0;return Object(a.useEffect)((function(){t>r&&n(r),t<0&&console.log(t)}),[t,n,c.length]),Object(b.jsxs)(P.a,{as:pe.a,isAttached:!0,variant:"ghost",marginTop:"1rem",borderBottomWidth:"1px",justifyContent:"center",children:[Object(b.jsx)(ye.a,{"aria-label":"first page",onClick:function(){0!==t&&n(0)},children:Object(b.jsx)(ue.c,{})}),Object(b.jsx)(ye.a,{"aria-label":"previous page",onClick:function(){0!==t&&n(t-1)},children:Object(b.jsx)(ue.e,{})}),c.map((function(e,a){var c=a>t+10||a<t-10,r=a===t+10||a===t-10;return Object(b.jsx)(J.a,{fontWeight:"normal",isActive:a===t,padding:c?0:"",fontSize:c?0:"",minWidth:c?0:"",transition:"padding 0.25s ease-out, min-width 0.25s ease-out",onClick:function(){n(a)},children:r?"...":a+1},a)})),Object(b.jsx)(ye.a,{"aria-label":"next page",onClick:function(){c.length&&t!==r&&n(t+1)},children:Object(b.jsx)(ue.f,{})}),Object(b.jsx)(ye.a,{"aria-label":"last page",onClick:function(){c.length&&n(r)},children:Object(b.jsx)(ue.d,{})})]})},Ie=n(121),Ce=function(e){var t=e.userItems,n=e.items;return t&&n?_e(e).length:0},_e=function(e){var t=e.userItems,n=Object(Ie.a)(e,["userItems"]);return t.filter((function(e){return we(Object(k.a)(Object(k.a)({},n),{},{userItem:e}))}))},we=function(e){var t=e.types,n=e.userItem,a=e.items,c=e.materials,r=e.pathname,i=a[n.id];return!!i&&("/items/material"===r?t.includes(c[n.category]):t.includes(null===i||void 0===i?void 0:i.type))};var Se=function(e){var t=e.activeType,n=e.showOnly,a=e.userItems,c=e.items,r=e.materials,o=Object(i.h)().pathname,l=ie().queryString;return Object(b.jsx)(P.a,{justifyContent:"center",margin:"1rem auto",columns:n.length,children:n.map((function(e){return Object(b.jsxs)(J.a,{as:s.b,variant:"ghost",fontWeight:"normal",isActive:e===t,to:"".concat(o,"?").concat(re("type",e,l)),children:[e," ",Object(b.jsx)(ce.a,{size:"sm",margin:"0 0 -0.1em 0.5em",children:Ce({types:[e],userItems:a,items:c,materials:r,pathname:o})})]},e)}))})},Ae=n(96),Fe=n.n(Ae);var Te=function(e){var t=e.activeSort,n=e.activeOrder,a=Object(i.h)().pathname,c=ie().queryString;return Object(b.jsx)(de.f,{children:Ue.map((function(e){return Object(b.jsxs)(de.d,{as:s.b,to:"".concat(a,"?").concat(t===e?re("order","asc"===n?"dsc":"",c):re("sort",e,c)),className:"".concat(Fe.a.title," ").concat(t===e?Fe.a.active:""),children:[e," ",t===e?"asc"===n?Object(b.jsx)(ue.a,{}):Object(b.jsx)(ue.b,{}):null]},e)}))})},We=n(169),Ne=n(170),Me=n(171),Re=n(114),Be=n(23),Ee=n.n(Be);var ze=function(e){var t,n,a,c,r=e.item,i=e.userItem,s=e.materialCategory;return Object(b.jsxs)(de.f,{children:[Object(b.jsx)(de.c,{className:Ee.a.iconCell,children:r?Object(b.jsx)(L.a,{src:r.icon,alt:r.rarity,className:"".concat(Ee.a.icon," ").concat(Ee.a[r.rarity.toLowerCase()]),border:"5px yellow solid"}):Object(b.jsx)(Re.a,{size:"3.5rem"})}),Object(b.jsx)(de.c,{className:Ee.a.nameCell,children:r?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(We.a,{as:"h4",size:"sm",className:"".concat(Ee.a.name," ").concat(Ee.a[null===r||void 0===r?void 0:r.rarity.toLowerCase()]),children:r.name}),r.description&&Object(b.jsx)("p",{className:"".concat(Ee.a.description," ").concat(Ee.a.secondary),children:r.description}),(null===(t=r.details)||void 0===t?void 0:t.description)&&Object(b.jsx)("p",{className:"".concat(Ee.a.description," ").concat(Ee.a.secondary),children:r.details.description}),(null===(n=r.details)||void 0===n?void 0:n.infix_upgrade)&&Object(b.jsx)("p",{className:"".concat(Ee.a.description," ").concat(Ee.a.secondary),children:r.details.infix_upgrade.attributes.map((function(e){return Object(b.jsxs)(Q.a,{as:"span",marginRight:"0.5rem",children:[Object(b.jsx)(ce.a,{size:"sm",children:e.attribute})," ",e.modifier]},e.attribute)}))}),i.stats&&Object(b.jsx)("p",{className:"".concat(Ee.a.description," ").concat(Ee.a.secondary),children:Object.keys(i.stats.attributes).map((function(e){return Object(b.jsxs)(Q.a,{marginRight:"0.5rem",as:"span",children:[Object(b.jsx)(ce.a,{variant:"outline",size:"sm",children:e})," ",i.stats.attributes[e]]},e)}))})]}):Object(b.jsxs)(b.Fragment,{children:["Item not exists in Guild Wars 2 API. ID: ",Object(b.jsx)(Ne.a,{children:i.id})]})}),Object(b.jsxs)(de.c,{maxWidth:"12rem",children:[null===r||void 0===r?void 0:r.type,(null===r||void 0===r||null===(a=r.details)||void 0===a?void 0:a.type)&&Object(b.jsx)("div",{className:Ee.a.secondary,children:null===r||void 0===r||null===(c=r.details)||void 0===c?void 0:c.type}),s&&Object(b.jsx)("div",{className:Ee.a.secondary,children:s})]}),Object(b.jsx)(de.c,{maxWidth:"6rem",children:r&&Object(b.jsxs)(b.Fragment,{children:[r.level,Object(b.jsx)("div",{className:Ee.a.secondary,children:r&&r.restrictions.join(",")})]})}),Object(b.jsxs)(de.c,{minWidth:"12rem",children:[i.location," ",i.isEquipped&&Object(b.jsx)(Me.a,{size:"sm",fontWeight:"normal",children:"Equipped"}),i.bound_to&&Object(b.jsxs)("div",{className:Ee.a.secondary,children:["bound to ",i.bound_to]})]}),Object(b.jsx)(de.c,{maxWidth:"6rem",children:null===i||void 0===i?void 0:i.count}),Object(b.jsx)(de.c,{maxWidth:"10rem",children:r&&Object(b.jsx)(Ne.a,{className:Ee.a.secondary,children:r.chat_link})})]})},qe=n(115),Pe=n.n(qe);var Le=function(){var e,t=Object(a.useContext)(T),n=t.items,c=t.materials,r=t.materialCategories,o=t.characterItems,l=t.inventoryItems,u=t.bankItems,m=t.materialItems,h=t.isFetching,O=Object(a.useContext)(z).isFetching,f=Object(a.useContext)(R).isFetching,v=Object(i.g)(),g=Object(i.h)().pathname,x=Object(i.i)().category,p=ie(),y=p.queryString,I=p.keyword,C=p.sort,w=p.order,S=p.type,A=C||"location",F=w||"asc",W=[].concat(Object(d.a)(o),Object(d.a)(l),Object(d.a)(u),Object(d.a)(m)),N=W.filter((function(e){return S?we({types:"CraftingMaterial"===S?r:[S],userItem:e,items:n,materials:c,pathname:g}):!x||function(e){var t,n=e.userItem,a=e.category,c=e.items,r=e.pathname;if(!a)return!0;var i=c[n.id];return!!i&&((null===(t=Je.find((function(e){return e.to===r})))||void 0===t?void 0:t.showOnly)||[]).includes(i.type)}({userItem:e,category:x,items:n,pathname:g})})).filter((function(e){if(!I)return!0;var t=n[e.id],a=Object(k.a)(Object(k.a)({},e),t);return JSON.stringify(a).match(new RegExp(I,"i"))})).sort((function(e,t){var a=Object(k.a)(Object(k.a)({},e),n[e.id]),c=Object(k.a)(Object(k.a)({},t),n[t.id]),r="rarity"===A?De(a.rarity,c.rarity):He(a[A],c[A]);return"asc"===F?r:-1*r})),M=Object(_.chunk)(N,100),B=Object(a.useState)(0),E=Object(j.a)(B,2),q=E[0],P=E[1];return Object(b.jsxs)($.c,{display:"grid",gridTemplateRows:"auto 1fr",height:"100%",index:Object(_.findIndex)(Je,(function(e){return e.to===g}))+1||0,children:[Object(b.jsxs)($.b,{children:[Object(b.jsxs)($.a,{as:s.c,exact:!0,to:"/items",children:["All",Object(b.jsx)(ce.a,{size:"sm",margin:"0 0 -0.1em 0.5em",children:null===W||void 0===W?void 0:W.length})]},"/items"),Je.map((function(e){return Object(b.jsxs)($.a,{as:s.c,to:e.to,children:[e.text,Object(b.jsx)(ce.a,{size:"sm",margin:"0 0 -0.1em 0.5em",children:Ce({types:"/items/material"===e.to?r:e.showOnly,userItems:W,items:n,materials:c,pathname:e.to})})]},e.to)})),Object(b.jsx)(X.a,{}),Object(b.jsxs)(Z.a,{width:"20ch",children:[Object(b.jsx)(ee.a,{children:Object(b.jsx)(D.b,{opacity:"0.5"})}),Object(b.jsx)(te.a,{variant:"unstyled",value:I||"",onChange:function(e){var t="".concat(g,"?").concat(re("keyword",e.currentTarget.value,y));v.push(t)}})]})]}),h||O||f?Object(b.jsx)(ne.a,{children:Object(b.jsx)(ae.a,{})}):Object(b.jsxs)("div",{children:[Object(b.jsx)(i.d,{children:Je.map((function(e){return Object(b.jsx)(i.b,{path:e.to,children:Object(b.jsx)(Se,{showOnly:"/items/material"===e.to?r:e.showOnly,activeType:S,userItems:W,items:n,materials:c,isMaterial:"/items/material"===e.to})},e.to)}))}),Object(b.jsx)(ke,{pageIndex:q,setPageIndex:P,pages:M}),Object(b.jsxs)(de.a,{className:Pe.a.table,children:[Object(b.jsx)(de.e,{children:Object(b.jsx)(Te,{activeSort:A,activeOrder:F})}),Object(b.jsx)(de.b,{children:null===(e=M[q])||void 0===e?void 0:e.map((function(e,t){var a=n[e.id],r=c[e.category];return Object(b.jsx)(ze,{item:a,userItem:e,materialCategory:r},t)}))})]})]})]})},Je=[{to:"/items/equipable",text:"Equipable",showOnly:["Armor","Weapon","Back","Trinket","Gathering","UpgradeComponent","Bag"]},{to:"/items/consumable",text:"Consumable",showOnly:["Consumable","Container","Gizmo","Key","MiniPet","Tool","Trait"]},{to:"/items/material",text:"Material",showOnly:["CraftingMaterial"]},{to:"/items/trophy",text:"Trophy",showOnly:["Trophy"]}],Ue=["rarity","name","type","level","location","count","chat_link"],Ge={Junk:0,Basic:1,Fine:2,Masterwork:3,Rare:4,Exotic:5,Ascended:6,Legendary:7},De=function(e,t){return He(Ge[e],Ge[t])},He=function(e,t){return e>t?1:e<t?-1:0},Ke=Le;var Ye=function(){var e=Object(a.useContext)(O),t=e.currentAccount,n=e.usedAccounts,c=e.addUsedAccount,r=e.removeUsedAccount,i=e.setCurrentAccount,s=Object(a.useContext)(T).setCharacterItems,o=Object(a.useState)(""),l=Object(j.a)(o,2),u=l[0],d=l[1],m=Object(C.a)(["account",u],w,{staleTime:1/0,enabled:!1}),h=m.refetch,f=m.isFetching,v=function(){var e=Object(y.a)(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:t=e.sent,(n=t.data)&&(a={name:n.name,token:u},c(a),i(a),d(""));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(Q.a,{margin:"0 auto",padding:"1rem",maxWidth:"60rem",children:[Object(b.jsx)(We.a,{size:"lg",textAlign:"center",fontFamily:"Rosario",marginBottom:"2rem",children:"Manage Tokens in Your Local Storage"}),Object(b.jsxs)(Y.a,{templateColumns:"auto 1fr auto",gap:"1rem",alignItems:"center",children:[n.map((function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(We.a,{size:"md",fontWeight:"normal",fontFamily:"Rosario",children:e.name},e.name),Object(b.jsx)(Ne.a,{fontSize:"sm",children:e.token},e.token),Object(b.jsx)(J.a,{variant:"ghost",onClick:function(){!function(e){r(e),(null===t||void 0===t?void 0:t.token)===e.token&&(i(null),s([]))}(e)},children:Object(b.jsx)(G.c,{})},e.token+" button")]})})),Object(b.jsx)("div",{children:"Add new..."}),Object(b.jsx)(te.a,{autoFocus:!0,placeholder:"paste your token here",value:u,onChange:function(e){d(e.currentTarget.value)}}),Object(b.jsx)(J.a,{variant:"ghost",isLoading:f,onClick:v,children:Object(b.jsx)(G.b,{})})]})]})},Qe=(n(138),new o.a),Ve=function(){return Object(b.jsx)(V,{children:Object(b.jsxs)(i.d,{children:[Object(b.jsx)(i.b,{path:"/characters",children:Object(b.jsx)(xe,{})}),Object(b.jsx)(i.b,{path:"/items/:category?",children:Object(b.jsx)(Ke,{})}),Object(b.jsx)(i.b,{path:"/settings",children:Object(b.jsx)(Ye,{})}),Object(b.jsx)(i.b,{path:"/",children:Object(b.jsx)(i.a,{to:"/characters"})})]})})},$e=function(){return Object(b.jsx)(u.a,{children:Object(b.jsx)(l.a,{client:Qe,children:Object(b.jsx)(h,{children:Object(b.jsx)(F,{children:Object(b.jsx)(M,{children:Object(b.jsx)(E,{children:Object(b.jsx)(s.a,{children:Object(b.jsx)(Ve,{})})})})})})})})},Xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,185)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(b.jsx)(a.StrictMode,{children:Object(b.jsx)($e,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),Xe()},23:function(e,t,n){e.exports={iconCell:"Item_iconCell__20ao9",icon:"Item_icon__FvfL8",junk:"Item_junk__2Fulf",basic:"Item_basic__3iuy0",fine:"Item_fine__2DHgw",masterwork:"Item_masterwork__30J5-",rare:"Item_rare__FoKYL",exotic:"Item_exotic__3M3In",ascended:"Item_ascended__20bat",legendary:"Item_legendary__2tlYn",nameCell:"Item_nameCell__J1haS",name:"Item_name__2U4rP",description:"Item_description__2zDcH",secondary:"Item_secondary__2dW75"}},85:function(e,t,n){e.exports={title:"Characters_title__3Q3A2",active:"Characters_active__1kUhb"}},96:function(e,t,n){e.exports={title:"HeaderItem_title__2Pegk",active:"HeaderItem_active__1GDgd"}}},[[139,1,2]]]);
//# sourceMappingURL=main.54d12e67.chunk.js.map